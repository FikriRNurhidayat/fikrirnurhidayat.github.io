<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2022-09-25 Sun 16:09 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Pemrograman Literasi</title>
<meta name="generator" content="Org mode">
<link rel="stylesheet" href="/assets/css/main.css">
                     <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
</head>
<body>
<main id="content">
<header>
<h1 class="title">Pemrograman Literasi</h1>
</header>
<div id="outline-container-org3985dd9" class="outline-2">
<h2 id="org3985dd9">Kamu mau ngapain sih, Fik?</h2>
<div class="outline-text-2" id="text-org3985dd9">
<p>
Pernah ga sih kalian ngoding sesuatu, terus kalian ninggalin kodingan itu selama 1 abad terus tau-tau balik lagi ke kode itu dan kalian bingung buat memahaminya?
</p>

<p>
Ahah, masalah klasik dari seorang <i>programmer</i>, yaitu tidak pernah mendokumentasikan kode dengan baik.
</p>

<p>
Di presentasi ini kita bakal bahas apa sih pemrograman literasi itu, dan kenapa kok ini keren banget buat kita sebagai programmer untuk mulai mencobanya.
</p>
</div>
</div>

<div id="outline-container-org6f284eb" class="outline-2">
<h2 id="org6f284eb">Pemrograman literasi, apaan tuh?</h2>
<div class="outline-text-2" id="text-org6f284eb">
<p>
Mungkin kamu sebagai programmer udah bosen lah denger istilah <b>Something Programming</b>, sebagai contoh:
</p>

<ul class="org-ul">
<li><i>Object Oriented Programming</i> (Pemrograman Berbasis Objek)</li>
<li><i>Functional Programming</i> (Pemrograman Fungsional)</li>
<li><i>Declarative Programming</i> (Pemrograman Deklaratif)</li>
<li><i>Imperative Programming</i> (Pemrograman Imperatif)</li>
<li>Dan sebagainya.</li>
</ul>

<p>
Nah dari segala jenis teknik pemrograman, ada satu teknik pemrograman yang bisa dibilang sangat unik, yaitu <i>Literate Programming</i> (Pemrograman Literasi).
</p>
</div>

<div id="outline-container-org0e86cee" class="outline-3">
<h3 id="org0e86cee">Terus pemrograman literasi itu apaan?</h3>
<div class="outline-text-3" id="text-org0e86cee">
<blockquote>
<p>
Intinya sih, kamu nulis dokumen yang mendeskripsikan program yang buat. Dan sumber kode dari program-mu juga tertulis dokumen itu juga.
</p>
</blockquote>

<p>
Pemrograman literasi ini beda dengan teknik-teknik pemrograman lainnya, yang mana diwujudkan dalam bentuk kode yang kita tulis. Pemrograman literasi ini lebih ke bagaimana kita <b>ngoding, dan mendokumentasikannya</b>, ibarat <b>nulis buku</b> lah.
</p>
</div>
</div>

<div id="outline-container-orgc753352" class="outline-3">
<h3 id="orgc753352">Gils, ngapain juga aku harus ngoding dengan gaya kek gitu?</h3>
<div class="outline-text-3" id="text-orgc753352">
<p>
Yawes, kalo anda ga tertarik gapapa. Tapi liat aja dirimu 10 tahun kedepan kalo masih jadi Programmer, dan kamu mau melihat masa mudamu yang cemerlang waktu ngoding, dan kamu gatau apa yang kamu tulis.
</p>
</div>

<div id="outline-container-org195e5ba" class="outline-4">
<h4 id="org195e5ba">Keuntungan</h4>
<div class="outline-text-4" id="text-org195e5ba">
<ul class="org-ul">
<li>Kamu bisa dengan mudah memahami programmu.</li>
<li>Programmu juga akan mudah dipahami oleh orang lain.</li>
<li>Dan masih banyak lagi deh.</li>
</ul>
</div>
</div>

<div id="outline-container-org443f09d" class="outline-4">
<h4 id="org443f09d">Kekurangan</h4>
<div class="outline-text-4" id="text-org443f09d">
<ul class="org-ul">
<li>Toolbox-nya terbatas, setauku yang bisa kek gini dengan <i>smooth</i> baru Emacs doang.</li>
<li>Setupnya ribet.</li>
<li>Kayaknya ga cocok kalo mau ditabrakin dengan <i>Design Pattern</i>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgfc768c5" class="outline-3">
<h3 id="orgfc768c5">Belom kebayang nih, kek gimana sih wujudnya?</h3>
<div class="outline-text-3" id="text-orgfc768c5">
<p>
Wujudnya sih ya kayak tutorial-tutorial di internet, bedanya ini lebih spesifik. Aku mau ngasih contoh implementasi dari tiga fungsi dibawah, yaitu:
</p>

<ul class="org-ul">
<li><code>getRandomInt</code></li>
<li><code>getRandomCats</code></li>
<li><code>formatCatToString</code></li>
</ul>
</div>

<div id="outline-container-org8551ee7" class="outline-4">
<h4 id="org8551ee7"><code>getRandomInt</code></h4>
<div class="outline-text-4" id="text-org8551ee7">
<p>
Fungsi dibawah ini digunakan untuk mendapatkan sebuah angka secara acak. Fungsi ini meminta dua variabel, <code>min</code> dan <code>max</code>, yang mana dua variabel itulah yang akan menentukan berapa angka minimum dan maksimum yang bisa kita dapatkan ketika kita memanggil fungsi ini. Dimana kedua angka tersebut inklusif di dalam fungsi ini.
</p>

<div class="org-src-container">
<pre class="src src-js" id="org82259cb"><span style="font-weight: bold;">function</span> <span style="font-weight: bold;">getRandomInt</span>(<span style="font-weight: bold; font-style: italic;">min</span>, <span style="font-weight: bold; font-style: italic;">max</span>) {
    min = Math.ceil(min);
    max = Math.floor(max);
    <span style="font-weight: bold;">return</span> Math.floor(Math.random() * (max - min + 1)) + min;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb7dee8a" class="outline-4">
<h4 id="orgb7dee8a"><code>getRandomCats</code></h4>
<div class="outline-text-4" id="text-orgb7dee8a">
<p>
Fungsi ini digunakan untuk mendapatkan data Kucing secara acak. Data kucing tersebut akan memiliki skema sebagai berikut:
</p>

<div class="org-src-container">
<pre class="src src-typescript" id="org60782d8">type Cat = {
    id: number;
    name: string;
    image: string;
    race: string;
}
</pre>
</div>
</div>

<div id="outline-container-orgd7af921" class="outline-5">
<h5 id="orgd7af921">Sumber data kucing</h5>
<div class="outline-text-5" id="text-orgd7af921">
<p>
Kode di bawah ini adalah sumber data kucing dalam bentuk array. Data ini akan digunakan di berbagai kode di bawah.
</p>

<div class="org-src-container">
<pre class="src src-js" id="org7020402"><span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">cats</span> = [
    {
        id: 1,
        name: <span style="font-style: italic;">"John"</span>,
        image: <span style="font-style: italic;">"https://placekitten.com/200/300"</span>,
        race: <span style="font-style: italic;">"British Shorthair"</span>
    },
    {
        id: 2,
        name: <span style="font-style: italic;">"Oyen"</span>,
        image: <span style="font-style: italic;">"https://placekitten.com/300/200"</span>,
        race: <span style="font-style: italic;">"Domestic Shorthair"</span>
    },
    {
        id: 3,
        name: <span style="font-style: italic;">"Bob"</span>,
        image: <span style="font-style: italic;">"https://placekitten.com/300/300"</span>,
        race: <span style="font-style: italic;">"Domestic Shorthair"</span>
    },
    {
        id: 4,
        name: <span style="font-style: italic;">"Jenny"</span>,
        image: <span style="font-style: italic;">"https://placekitten.com/200/200"</span>,
        race: <span style="font-style: italic;">"Domestic Shorthair"</span>
    },
]
</pre>
</div>
</div>
</div>

<div id="outline-container-org8c2f1b4" class="outline-5">
<h5 id="org8c2f1b4">Implementasi fungsi</h5>
<div class="outline-text-5" id="text-org8c2f1b4">
<p>
Fungsi ini memiliki dependensi ke fungsi lain, yaitu fungsi <code>getRandomInt</code>, karena kita ingin mendapatkan data kucing secara acak, maka kita perlu mengambil indeks secara acak di dalam tabel kucing tadi.
</p>

<div class="org-src-container">
<pre class="src src-js" id="orgab71382"><span style="font-weight: bold;">function</span> <span style="font-weight: bold;">getRandomCats</span>() {
    <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">catTableLength</span> = cats.length;
    <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">randomCatIndex</span> = getRandomInt(0, catTableLength - 1);
    <span style="font-weight: bold;">return</span> cats[randomCatIndex];
}
</pre>
</div>

<p>
Contoh pengunaan.
</p>

<div class="org-src-container">
<pre class="src src-js" id="orgf4a34b9"><span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">cats</span> = [
    {
        id: 1,
        name: <span style="font-style: italic;">"John"</span>,
        image: <span style="font-style: italic;">"https://placekitten.com/200/300"</span>,
        race: <span style="font-style: italic;">"British Shorthair"</span>
    },
    {
        id: 2,
        name: <span style="font-style: italic;">"Oyen"</span>,
        image: <span style="font-style: italic;">"https://placekitten.com/300/200"</span>,
        race: <span style="font-style: italic;">"Domestic Shorthair"</span>
    },
    {
        id: 3,
        name: <span style="font-style: italic;">"Bob"</span>,
        image: <span style="font-style: italic;">"https://placekitten.com/300/300"</span>,
        race: <span style="font-style: italic;">"Domestic Shorthair"</span>
    },
    {
        id: 4,
        name: <span style="font-style: italic;">"Jenny"</span>,
        image: <span style="font-style: italic;">"https://placekitten.com/200/200"</span>,
        race: <span style="font-style: italic;">"Domestic Shorthair"</span>
    },
]

<span style="font-weight: bold;">function</span> <span style="font-weight: bold;">getRandomInt</span>(<span style="font-weight: bold; font-style: italic;">min</span>, <span style="font-weight: bold; font-style: italic;">max</span>) {
    min = Math.ceil(min);
    max = Math.floor(max);
    <span style="font-weight: bold;">return</span> Math.floor(Math.random() * (max - min + 1)) + min;
}

<span style="font-weight: bold;">function</span> <span style="font-weight: bold;">getRandomCats</span>() {
    <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">catTableLength</span> = cats.length;
    <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">randomCatIndex</span> = getRandomInt(0, catTableLength - 1);
    <span style="font-weight: bold;">return</span> cats[randomCatIndex];
}

<span style="font-weight: bold;">return</span> getRandomCats()
</pre>
</div>

<pre class="example">
{
  id: 3,
  name: 'Bob',
  image: 'https://placekitten.com/300/300',
  race: 'Domestic Shorthair'
}

</pre>
</div>
</div>
</div>

<div id="outline-container-org2be1c15" class="outline-4">
<h4 id="org2be1c15"><code>formatCatToString</code></h4>
<div class="outline-text-4" id="text-org2be1c15">
<p>
Fungsi ini digunakan untuk mengolah data seekor Kucing, dan merubahnya menjadi String dengan format yang sudah ditentukan.
</p>

<div class="org-src-container">
<pre class="src src-js" id="orgd21594a"><span style="font-weight: bold;">function</span> <span style="font-weight: bold;">formatCatToString</span>(<span style="font-weight: bold; font-style: italic;">cat</span>) {
    <span style="font-weight: bold;">return</span> <span style="font-style: italic;">`Kamu mengadopsi ${cat.name} dengan ras ${cat.race}, lucu kan!`</span>
}
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfbda8d5" class="outline-4">
<h4 id="orgfbda8d5">Program adopsi kucing</h4>
<div class="outline-text-4" id="text-orgfbda8d5">
<p>
Kita dapat membuat sebuah program dari dua fungsi yang sudah kita buat diatas. Program ini berguna untuk mengambil data kucing secara acak dan menampilkannya dengan format:
</p>

<blockquote>
<p>
Kamu mengadopsi &lt;Nama Kucing&gt; dengan ras &lt;Nama Ras&gt;, lucu kan!
</p>
</blockquote>

<p>
Untuk memenuhi kebutuhan diatas, kita perlu memanggil dua fungsi tadi.
</p>

<div class="org-src-container">
<pre class="src src-js" id="orge7eb770"><span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">cats</span> = [
    {
        id: 1,
        name: <span style="font-style: italic;">"John"</span>,
        image: <span style="font-style: italic;">"https://placekitten.com/200/300"</span>,
        race: <span style="font-style: italic;">"British Shorthair"</span>
    },
    {
        id: 2,
        name: <span style="font-style: italic;">"Oyen"</span>,
        image: <span style="font-style: italic;">"https://placekitten.com/300/200"</span>,
        race: <span style="font-style: italic;">"Domestic Shorthair"</span>
    },
    {
        id: 3,
        name: <span style="font-style: italic;">"Bob"</span>,
        image: <span style="font-style: italic;">"https://placekitten.com/300/300"</span>,
        race: <span style="font-style: italic;">"Domestic Shorthair"</span>
    },
    {
        id: 4,
        name: <span style="font-style: italic;">"Jenny"</span>,
        image: <span style="font-style: italic;">"https://placekitten.com/200/200"</span>,
        race: <span style="font-style: italic;">"Domestic Shorthair"</span>
    },
]

<span style="font-weight: bold;">function</span> <span style="font-weight: bold;">getRandomInt</span>(<span style="font-weight: bold; font-style: italic;">min</span>, <span style="font-weight: bold; font-style: italic;">max</span>) {
    min = Math.ceil(min);
    max = Math.floor(max);
    <span style="font-weight: bold;">return</span> Math.floor(Math.random() * (max - min + 1)) + min;
}

<span style="font-weight: bold;">function</span> <span style="font-weight: bold;">getRandomCats</span>() {
    <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">catTableLength</span> = cats.length;
    <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">randomCatIndex</span> = getRandomInt(0, catTableLength - 1);
    <span style="font-weight: bold;">return</span> cats[randomCatIndex];
}

<span style="font-weight: bold;">function</span> <span style="font-weight: bold;">formatCatToString</span>(<span style="font-weight: bold; font-style: italic;">cat</span>) {
    <span style="font-weight: bold;">return</span> <span style="font-style: italic;">`Kamu mengadopsi ${cat.name} dengan ras ${cat.race}, lucu kan!`</span>
}

<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">cat</span> = getRandomCats();

console.log(formatCatToString(cat));
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7eda2f2" class="outline-3">
<h3 id="org7eda2f2">Aku melihat itu ga pragmatis sama sekali 😛</h3>
<div class="outline-text-3" id="text-org7eda2f2">
<p>
Wo jelas, contoh tadi tuh cuma nyontohin kalo kamu ga perlu ngebikin file <code>.js</code> buat melakukan Pemrograman Literasi dengan Javascript.
</p>

<p>
Nah, karena di dunia industri tuh kita dituntut buat lebih pragmatis dan ada wujudnya, maka dari itu, kuy lah kita cobain bikin sebuah <b>REST API</b> yang fungsinya buat melayani kebutuhan <i>Todo Application</i>.
</p>

<p>
Disini kita bakal pake <code>express</code> sebagai <i>Web Framework</i>-nya.
</p>
</div>
</div>
</div>

<div id="outline-container-org7cba023" class="outline-2">
<h2 id="org7cba023">Todo Application</h2>
<div class="outline-text-2" id="text-org7cba023">
<p>
Aku gamau bahas terlalu detail terkait <i>express</i>, jadi kita langsung cekidot aja untuk instalasi <i>express</i> dan mulai menulis kode dengan <i>express</i>.
</p>
</div>

<div id="outline-container-orgd39a936" class="outline-3">
<h3 id="orgd39a936">Inisialisasi Proyek Node.js</h3>
<div class="outline-text-3" id="text-orgd39a936">
<p>
Untuk menginstal <i>express</i>, kita perlu inisialisasi proyek <code>node.js</code> dulu
</p>

<div class="org-src-container">
<pre class="src src-shell" id="org8e46146">yarn init -y
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell">yarn init v1.22.17
success Saved package.json
Done<span style="font-weight: bold;"> in</span> 0.01s.
</pre>
</div>
</div>
</div>

<div id="outline-container-org35f0029" class="outline-3">
<h3 id="org35f0029">Instal express</h3>
<div class="outline-text-3" id="text-org35f0029">
<p>
Setelah kita menginisialisasi proyek <code>node.js</code>, kini saatnya kita instal si <code>express</code>.
</p>

<div class="org-src-container">
<pre class="src src-shell" id="orga45f35d">yarn add express
</pre>
</div>

<div class="org-src-container">
<pre class="src src-shell">yarn add v1.22.17
info No lockfile found.
[1/4] Resolving packages...
[2/4] Fetching packages...
[3/4] Linking dependencies...
[4/4] Building fresh packages...
success Saved lockfile.
success Saved 33 new dependencies.
info Direct dependencies
&#9492;&#9472; express@4.18.1
info All dependencies
&#9500;&#9472; accepts@1.3.8
&#9500;&#9472; array-flatten@1.1.1
&#9500;&#9472; body-parser@1.20.0
&#9500;&#9472; call-bind@1.0.2
&#9500;&#9472; content-disposition@0.5.4
&#9500;&#9472; cookie-signature@1.0.6
&#9500;&#9472; cookie@0.5.0
&#9500;&#9472; ee-first@1.1.1
&#9500;&#9472; express@4.18.1
&#9500;&#9472; finalhandler@1.2.0
&#9500;&#9472; forwarded@0.2.0
&#9500;&#9472; has-symbols@1.0.3
&#9500;&#9472; has@1.0.3
&#9500;&#9472; inherits@2.0.4
&#9500;&#9472; ipaddr.js@1.9.1
&#9500;&#9472; media-typer@0.3.0
&#9500;&#9472; merge-descriptors@1.0.1
&#9500;&#9472; methods@1.1.2
&#9500;&#9472; mime-db@1.52.0
&#9500;&#9472; mime-types@2.1.35
&#9500;&#9472; mime@1.6.0
&#9500;&#9472; ms@2.0.0
&#9500;&#9472; negotiator@0.6.3
&#9500;&#9472; object-inspect@1.12.2
&#9500;&#9472; path-to-regexp@0.1.7
&#9500;&#9472; proxy-addr@2.0.7
&#9500;&#9472; raw-body@2.5.1
&#9500;&#9472; safer-buffer@2.1.2
&#9500;&#9472; serve-static@1.15.0
&#9500;&#9472; side-channel@1.0.4
&#9500;&#9472; toidentifier@1.0.1
&#9500;&#9472; utils-merge@1.0.1
&#9492;&#9472; vary@1.1.2
Done<span style="font-weight: bold;"> in</span> 2.84s.
</pre>
</div>
</div>
</div>

<div id="outline-container-orge8b11c3" class="outline-3">
<h3 id="orge8b11c3">Setup express</h3>
<div class="outline-text-3" id="text-orge8b11c3">
<p>
Setelah kalian berhasil menginstal express, kini saatnya kita buat sebuah aplikasi express yang setidaknya bisa dinyalain dan dipanggil melalui protokol HTTP.
</p>

<div class="org-src-container">
<pre class="src src-js" id="orgeee19db"><span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">express</span> = require(<span style="font-style: italic;">"express"</span>)
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">app</span> = express()
</pre>
</div>

<p>
Jangan lupa pasang JSON Parser juga, karena kita pengen bikin REST API yang ngomong pake JSON.
</p>

<div class="org-src-container">
<pre class="src src-js" id="org91b37aa">app.use(express.json());
</pre>
</div>
</div>
</div>

<div id="outline-container-org8af4a0a" class="outline-3">
<h3 id="org8af4a0a">Initialisasi Data Todo</h3>
<div class="outline-text-3" id="text-org8af4a0a">
<p>
Kita ga pake <i>database management system</i> dulu, karena ini bakal membuat sedikit lebih kompleks. Jadi ya, pake array aja, nanti kita modifikasi array tersebut berdasarkan permintaan yang terjadi di dalam server.
</p>

<div class="org-src-container">
<pre class="src src-js" id="orge814403"><span style="font-weight: bold;">let</span> <span style="font-weight: bold; font-style: italic;">todos</span> = [];
</pre>
</div>

<p>
Nah, untuk skema data todo sendiri bakal kayak gini.
</p>

<div class="org-src-container">
<pre class="src src-typescript" id="org4efcd49">type Todo = {
    id: number;
    content: string;
    isDone: boolean;
    createdAt: Date;
    updatedAt: Date;
    doneAt: Date;
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org6b13cc5" class="outline-3">
<h3 id="org6b13cc5">Fungsi untuk menambahkan Todo</h3>
<div class="outline-text-3" id="text-org6b13cc5">
<p>
Supaya user kita bisa menambahkan data Todo ke server kita, server kita harus mempunyai endpoint untuk melakukan aksi tersebut.
</p>

<p>
Anggep aja endpoint ini kayak URL yang bisa kamu akses melalui browser, bedanya si URL ini nanti bakal dibuka sama program, bukan manusia kayak kamu.
</p>

<p>
Nah, fungsi ini bakal terekpos di endpoint <code>POST /api/v1/todos</code>, dan fungsi ini meminta <i>request body</i> yang sesuai dengan definisi skema dari <code>Todo</code>.
</p>

<div class="org-src-container">
<pre class="src src-js" id="org23c8580">app.post(<span style="font-style: italic;">"/api/v1/todos"</span>, (req, res) =&gt; {
    <span style="font-weight: bold;">const</span> { content } = req.body;
    <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">todoID</span> = todos.length + 1;
    <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">timestamp</span> = <span style="font-weight: bold;">new</span> <span style="font-weight: bold; text-decoration: underline;">Date</span>();

    <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">todo</span> = {
        id: todoID,
        content,
        isDone: <span style="font-weight: bold; text-decoration: underline;">false</span>,
        createdAt: timestamp,
        updatedAt: timestamp,
        doneAt: <span style="font-weight: bold; text-decoration: underline;">null</span>,
    }

    todos.push(todo)

    res.status(201).json(todo);
})
</pre>
</div>

<p>
Nah setelah endpoint itu jadi, yawes tinggal di-<i>hit</i> langsung aja pake Postman, atau kalo kalian males pake aplikasi GUI, pake perintah <code>curl</code> di bawah ini.
</p>

<div class="org-src-container">
<pre class="src src-shell" id="orgbf84d01">curl -X POST <span style="font-style: italic;">\</span>
     -H <span style="font-style: italic;">'Content-Type: application/json'</span> <span style="font-style: italic;">\</span>
     --data <span style="font-style: italic;">'{ "content": "Ngoding node.js" }'</span> <span style="font-style: italic;">\</span>
     http://localhost:8000/api/v1/todos | python -m json.tool
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbf28f61" class="outline-3">
<h3 id="orgbf28f61">Fungsi untuk melihat daftar Todo</h3>
<div class="outline-text-3" id="text-orgbf28f61">
<p>
Setelah kamu selesai menambahkan apa yang harus kamu lakukan alias Todo action kalian ke dalam server, kamu juga harusnya bisa liat daftar Todo yang udah kamu masukin buat ngecek mana nih yang belum kelar dan mana yang udah kelar.
</p>

<p>
Karena daftar todo itu bisa aja panjang banget, maka dari itu, sangat disarankan kalo di fungsi ini diberi parameter untuk melakukan penyaringan data. Jadi kita bisa menyaring data Todo yang udah selesai dan data Todo yang belum selesai.
</p>

<p>
Nah, fungsi ini akan diekspos melalui endpoint <code>GET /api/v1/todos</code>.
</p>

<div class="org-src-container">
<pre class="src src-js" id="org67e483f">app.get(<span style="font-style: italic;">"/api/v1/todos"</span>, (req, res) =&gt; {
  <span style="font-weight: bold;">const</span> { filters } = req.query;

  <span style="font-weight: bold;">if</span> (!!filters) {
    <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">todoListResults</span> = todos.filter((i) =&gt; {
      <span style="font-weight: bold;">return</span> i.isDone === filters.isDone;
    })

    res.status(200).json(todoListResults);
    <span style="font-weight: bold;">return</span>;
  }

  res.status(200).json(todos);
});
</pre>
</div>

<p>
Kalo kalian ingin mencoba endpoint diatas, kamu bisa coba pake Postman, atau pake perintah <code>curl</code> dibawah ini.
</p>

<div class="org-src-container">
<pre class="src src-shell" id="org89065b7">curl -X GET <span style="font-style: italic;">\</span>
     http://localhost:8000/api/v1/todos | python -m json.tool
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf494af4" class="outline-3">
<h3 id="orgf494af4">Fungsi untuk memperbarui Todo</h3>
<div class="outline-text-3" id="text-orgf494af4">
<p>
Tentu saja, setelah kita menambahkan data Todo, pastinya kita bakal memperbarui data itu, untuk ngasih tau server kalo data Todo itu udah kelar dikerjain atau belum.
</p>

<p>
Nah maka dari itu, fungsi untuk memperbarui todo diperlukan. Fungsi ini akan menerima 3 parameter, yaitu <code>id</code> dari data Todo, <code>content</code> dari data Todo tersebut karena kita ingin timpa kontennya dengan data yang baru, dan <code>isDone</code> untuk menentukan bahwa data Todo tersebut selesai dikerjakan.
</p>

<p>
Fungsi ini akan diekspos melalui endpoint <code>PUT /api/v1/todos/{id}</code>
</p>

<div class="org-src-container">
<pre class="src src-js" id="orgc4b62a3">app.put(<span style="font-style: italic;">"/api/v1/todos/:id"</span>, (req, res) =&gt; {
  <span style="font-weight: bold;">const</span> { id } = req.params;
  <span style="font-weight: bold;">const</span> { content, isDone } = req.body;

  <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">todoIndex</span> = todos.findIndex((i) =&gt; i.id === Number(id));

  <span style="font-weight: bold;">if</span> (todoIndex &lt; 0) {
    res.status(404).json({
      error: {
        message: <span style="font-style: italic;">"Todo not found!"</span>
      }
    });

    <span style="font-weight: bold;">return</span>;
  }

  <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">todo</span> = todos[todoIndex];
  <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">updatedTodo</span> = {...todo, content, isDone}

  <span style="font-weight: bold;">if</span> (isDone) updatedTodo.doneAt = <span style="font-weight: bold;">new</span> <span style="font-weight: bold; text-decoration: underline;">Date</span>();
  todos[todoIndex] = updatedTodo;

  res.status(200).json(updatedTodo);
});
</pre>
</div>

<p>
Kalo kalian ingin mencoba endpoint diatas, kamu bisa coba pake Postman, atau pake perintah <code>curl</code> dibawah ini.
</p>

<div class="org-src-container">
<pre class="src src-shell" id="org2e422bc">curl -X PUT <span style="font-style: italic;">\</span>
     -H <span style="font-style: italic;">'Content-Type: application/json'</span> <span style="font-style: italic;">\</span>
     --data <span style="font-style: italic;">'{ "content": "Ngoding node.js", "isDone": true }'</span> <span style="font-style: italic;">\</span>
     http://localhost:8000/api/v1/todos/1 | python -m json.tool
</pre>
</div>
</div>
</div>

<div id="outline-container-org91c9567" class="outline-3">
<h3 id="org91c9567">Fungsi untuk menghapus Todo</h3>
<div class="outline-text-3" id="text-org91c9567">
<p>
Kita sebagai manusia tuh gampang banget keblinger, gampang banget buat keganggu dengan hal-hal sepele. Nah, karena di aplikasi Todo ini dia nampilin semua data, entah disaring atau enggak, jadi daftar Todo tuh bisa panjang banget.
</p>

<p>
Kamu mungkin pengen ngehapusin beberapa data yang udah ga diperluin, maka dari itu, kita perlu fungsi buat ngehapus data Todo dari database kita.
</p>

<p>
Fungsi ini akan diekspos melalui endpoint <code>DELETE /api/v1/todos/{id}</code>. Dimana fungsi ini akan meminta 1 parameter saja, yaitu <code>id</code> dari data Todo yang pengen kita hapus.
</p>

<div class="org-src-container">
<pre class="src src-js" id="org6693264">app.<span style="font-weight: bold;">delete</span>(<span style="font-style: italic;">"/api/v1/todos/:id"</span>, (req, res) =&gt; {
  <span style="font-weight: bold;">const</span> { id } = req.params;
  <span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">todoIndex</span> = todos.findIndex((i) =&gt; i.id === Number(id));

  <span style="font-weight: bold;">if</span> (todoIndex &lt; 0) {
    res.status(404).json({
      error: {
        message: <span style="font-style: italic;">"Todo not found!"</span>
      }
    });

    <span style="font-weight: bold;">return</span>;
  }

  todos = todos.filter((i) =&gt; i.id !== Number(id));
  res.status(204).end();
});
</pre>
</div>

<p>
Kalo kalian ingin mencoba endpoint diatas, kamu bisa coba pake Postman, atau pake perintah <code>curl</code> dibawah ini.
</p>

<div class="org-src-container">
<pre class="src src-shell" id="org970e25d">curl -X DELETE http://localhost:8000/api/v1/todos/1
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb983363" class="outline-3">
<h3 id="orgb983363">Nyalain express server-nya</h3>
<div class="outline-text-3" id="text-orgb983363">
<p>
Lalu yang terakhir adalah, kode untuk menyalakan server harus ditaruh dipaling akhir.
</p>

<div class="org-src-container">
<pre class="src src-js" id="org65a216a"><span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">PORT</span> = process.env.PORT || 8000;
app.listen(PORT, () =&gt; {
    console.log(<span style="font-style: italic;">"Listening on port"</span>, PORT);
});
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org671ae46" class="outline-2">
<h2 id="org671ae46">Repository</h2>
<div class="outline-text-2" id="text-org671ae46">
<p>
Semua kode tersebut dapat dilihat di <a href="https://github.com/FikriRNurhidayat/express-literate">tautan berikut</a>.
</p>
</div>
</div>

<div id="outline-container-orgef365f5" class="outline-2">
<h2 id="orgef365f5">Kesimpulan</h2>
<div class="outline-text-2" id="text-orgef365f5">
<p>
Gimana, apakah Pemrograman Literasi ini sangat cocok untuk coba diekplor? Ya silahkan simpulkan sendiri. Tapi, sejauh ini kita dapat mendokumentasikan segala hal dengan baik kalau kita menggunakan paradigma pemrograman ini.
</p>
</div>
</div>
</main>
<footer id="postamble" class="status">
<p>© 2021 Fikri Rahmat Nurhidayat</p>
</footer>
</body>
</html>
