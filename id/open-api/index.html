<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2022-08-07 Sun 09:10 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Open API</title>
<meta name="generator" content="Org mode">
<link rel="stylesheet" href="/assets/css/main.css">
                     <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
</head>
<body>
<main id="content">
<header>
<h1 class="title">Open API</h1>
</header><nav id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgd1d7f9d">Pendahuluan</a></li>
<li><a href="#org67ca975">Apa itu API?</a></li>
<li><a href="#org3857527">Apa itu Open API?</a></li>
<li><a href="#org73568e2">Kenapa kita perlu menggunakan Open API?</a>
<ul>
<li><a href="#org382f9cd">Perencanaan API akan jauh lebih baik</a></li>
<li><a href="#orgda47cd0">Codegen mempermudah pengembangan <i>client side application</i></a></li>
<li><a href="#org303b847">Mock API akan mempercepat pengembangan aplikasi kita</a></li>
</ul>
</li>
<li><a href="#org5c93a8b">Open API Specification</a>
<ul>
<li><a href="#org97a10a4">Structure of Open API Document</a>
<ul>
<li><a href="#org531df6c">Syntax dari dokumen Open API</a></li>
<li><a href="#org5dd88d9">The Open API Object</a></li>
</ul>
</li>
<li><a href="#org103a249">API Endpoints</a>
<ul>
<li><a href="#orgee6be78">The Paths Object</a></li>
<li><a href="#org8b04ca5">The Path Item Object</a></li>
</ul>
</li>
<li><a href="#org37a6fcd">Response Body Message</a>
<ul>
<li><a href="#org3e11176">The Responses Object</a></li>
<li><a href="#org9dfa7be">The Response Object</a>
<ul>
<li><a href="#orgebe3593">The Media Object</a></li>
<li><a href="#org8ffb13f">The Media Type Object</a></li>
<li><a href="#org64c7da5">The Schema Object</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org147af97">Request Body and Parameter</a>
<ul>
<li><a href="#org4e6294f">The Parameter Object</a></li>
<li><a href="#org78248cb">The Request Body Object</a></li>
</ul>
</li>
<li><a href="#org27c8f10">Components</a>
<ul>
<li><a href="#org94a5ab6">The Schema Object</a></li>
<li><a href="#org2c35a60">The Request Bodies Object</a></li>
<li><a href="#orgc0b1014">The Response Object</a></li>
<li><a href="#org1423171">The Security Schemes Object</a></li>
</ul>
</li>
<li><a href="#org2b68fb5">API Servers</a></li>
</ul>
</li>
<li><a href="#org2ddd679">Menampilkan Open API Documentation</a>
<ul>
<li><a href="#orgba6bccf">Swagger UI</a></li>
<li><a href="#orgc0acfee">ReDoc</a></li>
</ul>
</li>
<li><a href="#org0aefa98">Membuat Mock API untuk Early Development</a></li>
<li><a href="#orga90a443">Kesimpulan</a></li>
<li><a href="#orge382824">Referensi</a></li>
</ul>
</div>
</nav>

<div id="outline-container-orgd1d7f9d" class="outline-2">
<h2 id="orgd1d7f9d">Pendahuluan</h2>
<div class="outline-text-2" id="text-orgd1d7f9d">
<p>
Ketika kita membuat sebuah remote API (Backend Web API) tentu saja kita perlu mendokumentasikannya, mulai dari operasi apa saja yang bisa kita jalankan melalui remote API tersebut, dan apa saja parameter yang dibutuhkan agar pengguna remote API kita dapat menjalankan operasi tersebut dengan baik. Biasanya, kita sebagai developer akan mendokumentasikan cara penggunaan remote API tersebut dengan menggunakan sebuah dokumen, baik itu PDF, README, Website, dan bentuk-bentuk dokumen yang lainnya.
</p>


<figure>
<img src="../../../assets/images/open-api/FRONTEND-TO-BACKEND.png" alt="FRONTEND-TO-BACKEND.png">

</figure>

<p>
Ada banyak cara untuk mendokumentasikan remote API (Backend Web API) kita, salah satu caranya adalah dengan menggunakan Open API Specification. Namun, sebelum kita bahas terkait Open API Specification, kita harus pahami kembali makna sebenarnya dari sebuah API itu apa sih.
</p>
</div>
</div>

<div id="outline-container-org67ca975" class="outline-2">
<h2 id="org67ca975">Apa itu API?</h2>
<div class="outline-text-2" id="text-org67ca975">
<p>
<b>API</b> atau <i>application programming interface</i> adalah sebuah penghubung antar dua aplikasi, sebagai contoh adalah aplikasi frontend kita, dengan backend kita. Dimana API ini punya sederet operasi yang bisa kita panggil untuk menjalankan beberapa fungsi dari aplikasi backend kita. Sebagai pengguna dari API, kita tidak perlu tau implementasi dari API itu seperti apa, yang terpenting adalah, kita tau operasi ini tentang apa, parameternya seperti apa, dan hasil dari operasi ini apa, kita tidak perlu tau detail tentang bagaimana implementasinya. Familiar bukan? Ini yang bisa kita sebut sebagai abstraksi.
</p>

<p>
Berhubungan dengan apa yang kita pelajari di chapter-chapter sebelumnya, API yang kita bicarakan disini biasanya adalah sebuah remote API yang dapat kita panggil menggunakan protokol HTTP atau protokol yang mirip dengan HTTP (WebSocket dsb).
</p>

<p>
API biasa disebut sebagai sebuah <b>kontrak</b>, karena API biasa diasumsikan tidak akan pernah rusak, layaknya sebuah hukum, yang dimana ketika sudah ditetapkan aturan demikian, maka hampir tidak akan berubah, kecuali ketika diamandemen.
</p>


<figure>
<img src="../../../assets/images/open-api/PROVIDER-CONSOOMER.png" alt="PROVIDER-CONSOOMER.png">

</figure>

<p>
Untuk merangkum definisi tentang API, secara singkat, kita bisa simpulkan sebagai berikut:
</p>
<ul class="org-ul">
<li>Pihak yang menyediakan sebuah servis (contoh: login, register, dan logika bisnis lainnya) melalui API disebut sebagai <b>Provider</b> (biasa disebut sebagai Backend)</li>
<li>Pihak yang meminta servis tersebut melalui API disebut sebagai <b>Consumer</b> (biasa disebut sebagai Frontend)</li>
</ul>

<p>
Wujud dari API biasanya adalah sebuah <i>function</i>, <i>method</i> ataupun <i>endpoint</i>. Lantas bagaimana cara mengomunikasikan pemahaman tentang sebuah aplikasi backend Web API tuh punya endpoint apa aja sih? Salah satu solusinya adalah menggunakan Open API.
</p>
</div>
</div>

<div id="outline-container-org3857527" class="outline-2">
<h2 id="org3857527">Apa itu Open API?</h2>
<div class="outline-text-2" id="text-org3857527">
<p>
Open API adalah sebuah deskripsi dari sebuah remote API yang biasanya dapat kita panggil menggunakan protokol HTTP atau protokol yang mirip dengan HTTP seperti WebSocket. Dimana deskripsi ini dapat dibaca oleh mesin, karena deskripsi ini ditulis dengan format JSON atau YAML, maka dari itu data tersebut dapat diurai oleh mesin dan dibaca sebagai sebuah <i>object</i> di dalam sebuah program.
</p>

<p>
Jadi, ketika kita mendeskripsikan sebuah remote API menggunakan Open API, tidak hanya kita saja manusia, yang dapat membacanya, namun mesin juga dapat membacanya.
</p>

<blockquote>
<p>
Terus apa keuntungan menggunakan Open API, dibanding kita mendokumentasikannya dengan dokumen seperti PDF atau README saja?
</p>
</blockquote>

<p>
Keuntungan mendeskripsikan remote API menggunakan Open API adalah, kita dapat menggunakan banyak tools yang dapat membantu kita dalam pengembangan aplikasi kita, sebagai contoh adalah  <b>client codegen</b>, yang dapat membantu kita untuk membuat sebuah <i>library</i> atau <i>SDK (software development kit)</i> untuk mengonsumsi remote API yang kita buat yang nantinya digunakan oleh aplikasi frontend kita. Tentu saja ini akan mempercepat proses pengembangan web.
</p>

<blockquote>
<p>
Untuk melihat lebih jauh lagi tentang tools-tools apa saja sih yang dapat kita gunakan dengan menggunakan Open API dapat dicek pada tautan berikut: <a href="https://openapi.tools/">https://openapi.tools/</a>
</p>
</blockquote>

<p>
Open API ini biasanya berbentuk file yang memiliki ektensi <code>.json</code> atau <code>.yaml</code>, dimana konten di dalam file tersebut adalah properti atau atribut-atribut yang mendeskripsikan sebuah remote API yang ingin kita deskripsikan.
</p>
</div>
</div>

<div id="outline-container-org73568e2" class="outline-2">
<h2 id="org73568e2">Kenapa kita perlu menggunakan Open API?</h2>
<div class="outline-text-2" id="text-org73568e2">

<figure>
<img src="https://imgs.xkcd.com/comics/api.png" alt="api.png">

</figure>

<p>
Inti dari kenapa kita perlu menggunakan Open API adalah komunikasi, entah terhadap komputer, maupun sesama developer.
</p>
</div>

<div id="outline-container-org382f9cd" class="outline-3">
<h3 id="org382f9cd">Perencanaan API akan jauh lebih baik</h3>
<div class="outline-text-3" id="text-org382f9cd">

<figure>
<img src="../../../assets/images/open-api/CLUELESS.png" alt="CLUELESS.png" width="50%">

</figure>

<p>
Mungkin bisa direfleksikan dari proses kalian mengerjakan challenge-challenge sebelumnya, mungkin kalian akan <i>clueless</i> ketika ingin membuat sebuah API. Nah, dengan membuat Open API Documentation-nya terlebih dahulu, proses pembuatan remote API (RESTful API) kalian akan jauh lebih terencana.
</p>
</div>
</div>

<div id="outline-container-orgda47cd0" class="outline-3">
<h3 id="orgda47cd0">Codegen mempermudah pengembangan <i>client side application</i></h3>
<div class="outline-text-3" id="text-orgda47cd0">

<figure>
<img src="../../../assets/images/open-api/YES-HONEY.png" alt="YES-HONEY.png" width="50%">

</figure>

<p>
<i>API Contract</i>, meskipun janjinya tidak akan merusak implementasi yang sudah ada di <i>Client Side</i> namun pada kenyataannya sering terjadi. Janji supaya perubahan tidak akan merusak implementasi yang sudah ada, atau <i>backward compatibility</i> dari sebuah API di iklim startup sepertinya hanyalah distopia belaka. Nah maka dari itu, kita bisa gunakan Open API untuk membuat SDK secara otomatis dengan Codegen, dimana ketika ada perubahan kontrak di API, frontend developer (consumer) tidak perlu repot-repot mengimplementasi ulang cara <i>request</i> ke API kita, mereka tinggal <i>generate</i> ulang SDK tersebut, dan menyesuaikan cara penggunaannya di <i>Client Side Application (/Consumer)</i>
</p>

<blockquote>
<p>
Things break and they break often
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org303b847" class="outline-3">
<h3 id="org303b847">Mock API akan mempercepat pengembangan aplikasi kita</h3>
<div class="outline-text-3" id="text-org303b847">

<figure>
<img src="../../../assets/images/open-api/CONVENTIONAL-DEVELOPMENT-LIFECYCLE.png" alt="CONVENTIONAL-DEVELOPMENT-LIFECYCLE.png">

</figure>

<p>
Diagram diatas menunjukkan bagaimana software development lifecycle ketika kita tidak menggunakan Open API Documentation dan sebuah Mock API. Integrasi aplikasi frontend ke aplikasi backend, akan sangat bergantung pada ketersediaannya API dari aplikasi backend terlebih dahulu. Artinya, frontend developer tidak bisa meneruskan pekerjaannya sampai aplikasi backend sudah siap untuk dipakai. Ini menyebabkan frontend development <b>sangat dependen</b> dengan suksesnya backend development.
</p>

<p>
Untungnya, problem ketergantungan tersebut sudah dipecahkan dengan adanya Open API Documentation, kenapa? Karena kita bisa membuat kode dengan <i>codegen</i> untuk membuat sebuah aplikasi backend yang sudah mengimplementasikan API yang sudah didefinisikan pada dokumen Open API. Aplikasi ini biasa disebut sebagai Mock API.
</p>


<figure>
<img src="../../../assets/images/open-api/COOLER-DEVELOPMENT-LIFECYCLE.png" alt="COOLER-DEVELOPMENT-LIFECYCLE.png" width="75%">

</figure>

<p>
Selagi aplikasi frontend menggunakan Mock API dari backend, maka backend developer sedang membuat implementasi dari API tersebut, dan berjanji tidak akan membuatnya berbeda dari Mock API dari segi interface-nya (cara pakai). Maka dari itu, ketika aplikasi backend sudah siap untuk dikonsumsi, aplikasi frontend tinggal mengganti server URL yang akan mereka gunakan untuk memanggil API, dari yang awalnya server URL ke Mock API, menjadi server URL ke Backend API yang sebenarnya. Hal ini tentu saja akan mempercepat proses pengembangan aplikasi, karena frontend development tidak lagi dependen dengan siap tidaknya aplikasi backend yang sesungguhnya. Dan, sebagai backend developer, juga akan mendapatkan feedback lebih cepat dari sisi Interface-nya (Cara pakai, dan skema dari response-nya).
</p>
</div>
</div>
</div>

<div id="outline-container-org5c93a8b" class="outline-2">
<h2 id="org5c93a8b">Open API Specification</h2>
<div class="outline-text-2" id="text-org5c93a8b">
<p>
Oke, cukup ngomongin pendahuluannya, sekarang kita langsung bahas saja, apa sih yang membuat Open API itu <b>Open API</b>? Yang pertama adalah aturannya. Aturan dalam apa? Dalam mendeskripsikan sebuah remote API. Artinya, ketika kita ingin membuat deskripsi tentang sebuah remote API, ada kaidah-kaidah yang wajib kita ikuti di dalam menulis dokumennya.
</p>

<p>
Karena dokumen Open API ini berwujud <code>json</code> atau <code>yaml</code>, pastinya deskripsi dari remote API kita nanti akan berbentuk <i>object</i>, yang memiliki atribut-atribut yang berkaitan dengan remote API. Apa saja sih atributnya? Dan struktur data dari <i>object</i> tersebut nantinya akan seperti apa sih? Mari kita simak bagian-bagian selanjutnya.
</p>

<blockquote>
<p>
Dokumen dibawah ini akan selalu berdasarkan Open API Specification versi 3.0.0, jika referensi ke versi 2.0.0 dibutuhkan, silahkan buka tautan berikut: <a href="https://swagger.io/specification/v2/">https://swagger.io/specification/v2/</a>
</p>
</blockquote>
</div>

<div id="outline-container-org97a10a4" class="outline-3">
<h3 id="org97a10a4">Structure of Open API Document</h3>
<div class="outline-text-3" id="text-org97a10a4">
<p>
Seperti yang sudah disebutkan pada bagian sebelumnya, dokumen Open API ini kan bermaksud agar bisa dibaca oleh mesin, maka dari itu, kita perlu menyimpan dokumen ini dalam bentuk yang dikenali mesin, yaitu dalam bentuk <code>JSON</code> dan <code>YAML</code>. Karena bentuknya <code>JSON</code> atau <code>YAML</code>, maka dari itu pastinya data yang kita simpan pada file tersebut akan berupa sebuah <i>object</i>, struktur dari <i>object</i> tersebut merepresentasikan atau mendeskripsikan remote API kita, mulai dari apa sih nama remote API kita, siapa maintainernya, lisensinya apa dan sebagainya.
</p>
</div>
<div id="outline-container-org531df6c" class="outline-4">
<h4 id="org531df6c">Syntax dari dokumen Open API</h4>
<div class="outline-text-4" id="text-org531df6c">
<p>
Seperti yang sudah disebutkan diatas, dokumen ini ditulis menggunakan <code>YAML</code> atau <code>JSON</code>, berikut contoh kode <code>YAML</code>:
</p>

<div class="org-src-container">
<pre class="src src-yaml"># Anything after a hash sign is a comment
anObject:
  aNumber: 42
  aString: This is a string
  aBoolean: true
  nothing: null
  arrayOfNumbers:
    - 1
    - 2
    - 3
</pre>
</div>

<p>
Dan berikut contoh kode <code>JSON</code>:
</p>

<div class="org-src-container">
<pre class="src src-js">{
  <span style="font-style: italic;">"anObject"</span>: {
    <span style="font-style: italic;">"aNumber"</span>: 42,
    <span style="font-style: italic;">"aString"</span>: <span style="font-style: italic;">"This is a string"</span>,
    <span style="font-style: italic;">"aBoolean"</span>: <span style="font-weight: bold; text-decoration: underline;">true</span>,
    <span style="font-style: italic;">"nothing"</span>: <span style="font-weight: bold; text-decoration: underline;">null</span>,
    <span style="font-style: italic;">"arrayOfNumbers"</span>: [
      1,
      2,
      3
    ]
  }
}
</pre>
</div>

<p>
Pilihlah salah satu tipe dokumen ketika menulis dokumentasi menggunakan Open API, tapi yang sangat dianjurkan adalah dengan menggunakan <code>YAML</code>, karena lebih manusiawi untuk dibaca.
</p>
</div>
</div>

<div id="outline-container-org5dd88d9" class="outline-4">
<h4 id="org5dd88d9">The Open API Object</h4>
<div class="outline-text-4" id="text-org5dd88d9">
<p>
<i>Root object</i> atau <i>object</i> dengan level tertinggi di dalam dokumen ini kita sebut dengan <i>Open API Object</i>, dimana <i>object</i> ini mendefinisikan metadata dari remote API yang ingin kita dokumentasikan. Object ini terdiri dari beberapa atribut berikut:
</p>


<figure>
<img src="../../../assets/images/open-api/OPEN-API-OBJECT.png" alt="OPEN-API-OBJECT.png">

</figure>

<ul class="org-ul">
<li><code>openapi</code> dipakai untuk memberi tau, kita ingin menggunakan spesifikasi versi keberapa dari Open API Specification.</li>
<li><code>info</code> adalah sebuah <i>object</i> yang berisi informasi terkait API yang dideskripsikan, berisi siapa author-nya, nama api-nya apa dan sebagainya.</li>
<li><code>paths</code> adalah sebuah <i>object</i> yang digunakan untuk mendeskripsikan semua rute yang ada di dalam API yang dideskripsikan.</li>
</ul>

<p>
Berikut contoh dokumentasi minimal yang ditulis menggunakan <code>YAML</code>:
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths: {} # No endpoints defined
</pre>
</div>

<p>
Dokumen tersebut sudah valid, namun tidak memberi tahu kita lebih tentang apa saja yang API yang disediakan, dan bagaimana cara memanggilnya. Maka dari itu kita perlu mendefinisikan operasi apa saja yang dapat dilakukan, yang mana akan kita bahas pada bagian berikutnya.
</p>
</div>
</div>
</div>

<div id="outline-container-org103a249" class="outline-3">
<h3 id="org103a249">API Endpoints</h3>
<div class="outline-text-3" id="text-org103a249">
<p>
Dokumentasi API tidak akan berguna kalau di dalam dokumentasi tersebut tidak terdapat daftar operasi yang dapat dilakukan (endpoint). API Endpoint atau biasa disebut sebagai <i>route</i> atau <i>operation</i> disebut sebagai <b>Paths</b> di dalam OAS (Open API Specification), maka dari itu, untuk mendefinisikan sebuah endpoint, kita akan menulisnya dibawah <i>object</i> bernama <code>paths</code>.
</p>


<figure>
<img src="../../../assets/images/open-api/OPEN-API-OBJECT-TO-RESPONSE-OBJECT.png" alt="OPEN-API-OBJECT-TO-RESPONSE-OBJECT.png" width="100%">

</figure>
</div>

<div id="outline-container-orgee6be78" class="outline-4">
<h4 id="orgee6be78">The Paths Object</h4>
<div class="outline-text-4" id="text-orgee6be78">
<p>
<code>paths</code> adalah sebuah atribute dengan tipe data <code>object</code>, dimana tiap atribut dari <i>object</i> tersebut adalah sebuah string yang menandakan sebuah endpoint dari suatu API. Maka dari tiap atribut dari <code>paths</code> harus dimulai dengan <code>/</code> sebagai prefiks dari endpoint.
</p>

<p>
Berikut adalah contoh Open API Object dengan <code>paths</code>:
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths:
  /posts: {} # We can conclude that this API has path named /posts
  /posts/{id}: {} # Path with path parameter
</pre>
</div>

<p>
Pada setiap atribut di dalam <code>paths</code> adalah sebuah <code>PathItemObject</code>, dimana di dalam atribut tersebut, adalah sebuah <i>object</i> yang mana atribut-atributnya adalah sebuah metode HTTP, baik itu <code>GET</code>, <code>POST</code>, <code>PUT</code>, maupun <code>DELETE</code>.
</p>

<p>
Penjelasan terkait <code>PathItemObject</code> ini akan dibahas pada bagian berikutnya.
</p>
</div>
</div>

<div id="outline-container-org8b04ca5" class="outline-4">
<h4 id="org8b04ca5">The Path Item Object</h4>
<div class="outline-text-4" id="text-org8b04ca5">
<p>
<code>PathItemObject</code> adalah sebuah <i>object</i> yang berada pada sebuah atribut dari <i>object</i> <code>paths</code>, atribut dari <i>object</i> ini adalah metode HTTP, baik itu <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>PATCH</code>, maupun <code>DELETE</code>. Tiap atribut itulah yang menandakan adanya operasi di dalam sebuah API kita.
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths:
  /posts:
    get: {}
    post: {}
  /posts/{id}:
    get: {}
    put: {}
    delete: {}
</pre>
</div>

<p>
Dari dokumen diatas, dapat kita simpulkan bahwa <i>Medium Blogging API</i> memiliki dua <i>path</i> yaitu <code>/posts</code> dan <code>/posts/{id}</code>, dimana, <code>/posts</code>, memiliki 2 operasi, yaitu <code>GET</code>, dan <code>POST</code>, dan untuk <code>/posts/{id}</code>, memiliki 3 operasi, yaitu <code>DELETE</code>, <code>PUT</code>, dan <code>GET</code>. Dokumen diatas masih <b>belum valid</b>, karena tiap operasi wajib berisi <code>OperationObject</code>, yang mana memiliki beberapa atribut yang wajib ada, seperti <code>responses</code> dan sebagainya.
</p>
</div>
</div>
</div>

<div id="outline-container-org37a6fcd" class="outline-3">
<h3 id="org37a6fcd">Response Body Message</h3>
<div class="outline-text-3" id="text-org37a6fcd">
<p>
Setiap operasi wajib mendeskripsikan hasil dari operasi tersebut, baik itu berupa <i>No Content</i> maupun ada konten. Untuk mendeskripsikan sebuah <i>response</i> dari sebuah operasi, kita perlu menambahkan atribut bernama <code>responses</code> ke dalam <code>OperationObject</code>, dimana <code>OperationObject</code> ini berada di dalam <code>PathItemObject</code>.
</p>
</div>

<div id="outline-container-org3e11176" class="outline-4">
<h4 id="org3e11176">The Responses Object</h4>
<div class="outline-text-4" id="text-org3e11176">
<p>
Setiap operasi tentunya memiliki beberapa jenis <i>response</i>, seperti <code>422</code>, <code>400</code>, <code>500</code> atau <code>200</code>, semua <i>response</i> tentu dibedakan berdasarkan <i>HTTP Status Code</i>-nya, maka dari itu pada OAS, setiap operasi wajib mencantumkan setidaknya 1 jenis <i>response</i> menggunakan <i>HTTP Status Code</i> yang ditulis di dalam sebuah string sebagai nama atribut.
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths:
  /posts:
    get:
      responses:
	"200": {}
    post:
      responses:
	"201": {}
	"400": {}
	"401": {}
	"422": {}
	"500": {}
  /posts/{id}:
    get:
      responses:
	"200": {}
	"403": {}
	"404": {}
    put:
      responses:
	"200": {}
	"400": {}
	"403": {}
	"404": {}
	"422": {}
    delete:
      responses:
	"204": {}
	"403": {}
	"404": {}
</pre>
</div>

<p>
Dokumen diatas masih <b>belum valid</b>, karena tiap atribut di dalam <code>ResponsesObject</code>, wajib memiliki atribut yang bernama <code>description</code>, yang mana akan kita bahas pada bagian berikutnya.
</p>
</div>
</div>

<div id="outline-container-org9dfa7be" class="outline-4">
<h4 id="org9dfa7be">The Response Object</h4>
<div class="outline-text-4" id="text-org9dfa7be">
<p>
<code>ResponseObject</code> adalah sebuah <i>object</i> yang digunakan dalam OAS untuk mendefinisikan seperti apa sih <i>response</i> dari  sebuah operasi yang kita jalankan. <i>Object</i> ini memiliki atribut yang wajib ada di dalamnya, yaitu <code>description</code>, yang mana hanyalah deskripsi dari sebuah <i>response</i>, namun tidak menutup kemungkinan juga kita akan menambahkan skema dari <i>response body</i> dari sebuah operasi.
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths:
  /posts:
    get:
      responses:
	"200":
	  description: List of post is retrieved
    post:
      responses:
	"201":
	  description: New post is created
	"400":
	  description: Cannot create post due to invalid request body schema
	"401":
	  description: Cannot create post without authorized access
	"422":
	  description: Cannot create post due to invalid request body value
	"500":
	  description: Cannot create post because of an error on the server
  /posts/{id}:
    get:
      responses:
	"200":
	  description: Post with specific id is retrieved
	"403":
	  description: Cannot retrieve post with specific id with current access
	"404":
	  description: Post does not found
    put:
      responses:
	"200":
	  description: Post with specific id is updated
	"400":
	  description: Cannot update post due to invalid request body schema
	"401":
	  description: Cannot update post without authorized access
	"403":
	  description: Cannot update post with current access
	"404":
	  description: Post does not found
	"422":
	  description: Cannot update post due to invalid request body value
	"500":
	  description: Cannot update post because of an error on the server
    delete:
      responses:
	"204":
	  description: Post with specific id is deleted
	"403":
	  description: Cannot delete post with current access
	"404":
	  description: Post does not found
</pre>
</div>

<p>
Dokumen diatas masih <b>belum valid</b>, karena pada <i>path</i> <code>/paths/{id}</code>, terdapat <i>path parameter</i>, yang wajib kita deskripsikan di tiap operasi dibawahnya, namun kita kita menghiraukan <code>/paths/{id}</code>, maka dokumen ini sudah valid, dengan catatan, kita belom mendeskripsikan, wujud dari <i>response body</i> dari tiap operasi, dan wujud dari <i>request body</i> dari tiap operasi yang membutuhkannya.
</p>


<figure>
<img src="../../../assets/images/open-api/RESPONSE-OBJECT.png" alt="RESPONSE-OBJECT.png" width="100%">

</figure>
</div>

<div id="outline-container-orgebe3593" class="outline-5">
<h5 id="orgebe3593">The Media Object</h5>
<div class="outline-text-5" id="text-orgebe3593">
<p>
<code>MediaObject</code> adalah sebuah <i>object</i> yang memiliki atribut yang nama dari atribut tersebut adalah sebuah <code>Content-Type</code> dari sebuah <i>response</i>, berikut adalah contoh daftar <code>Content-Type</code> yang merupakan nama atribut dari <code>MediaObject</code>:
</p>
<ul class="org-ul">
<li><code>application/json</code></li>
<li><code>application/xml</code></li>
<li><code>text/html</code></li>
<li><code>text/plain</code></li>
</ul>

<p>
Atribut-atribut tersebut memiliki nilai yang berupa <code>MediaTypeObject</code>.
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths:
  /posts:
    get:
      responses:
	"200":
	  description: List of post is retrieved
	  content:
	    application/json: {}
    post:
      responses:
	"201":
	  description: New post is created
	  content:
	    application/json: {}
	"400":
	  description: Cannot create post due to invalid request body schema
	  content:
	    application/json: {}
	"401":
	  description: Cannot create post without authorized access
	  content:
	    application/json: {}
	"422":
	  description: Cannot create post due to invalid request body value
	  content:
	    application/json: {}
	"500":
	  description: Cannot create post because of an error on the server
	  content:
	    application/json: {}
  /posts/{id}:
    get:
      responses:
	"200":
	  description: Post with specific id is retrieved
	  content:
	    application/json: {}
	"403":
	  description: Cannot retrieve post with specific id with current access
	  content:
	    application/json: {}
	"404":
	  description: Post does not found
	  content:
	    application/json: {}
    put:
      responses:
	"200":
	  description: Post with specific id is updated
	  content:
	    application/json: {}
	"400":
	  description: Cannot update post due to invalid request body schema
	  content:
	    application/json: {}
	"401":
	  description: Cannot update post without authorized access
	  content:
	    application/json: {}
	"403":
	  description: Cannot update post with current access
	  content:
	    application/json: {}
	"404":
	  description: Post does not found
	  content:
	    application/json: {}
	"422":
	  description: Cannot update post due to invalid request body value
	  content:
	    application/json: {}
	"500":
	  description: Cannot update post because of an error on the server
	  content:
	    application/json: {}
    delete:
      responses:
	"204":
	  description: Post with specific id is deleted
	  content:
	    application/json: {}
	"403":
	  description: Cannot delete post with current access
	  content:
	    application/json: {}
	"404":
	  description: Post does not found
	  content:
	    application/json: {}
</pre>
</div>
</div>
</div>

<div id="outline-container-org8ffb13f" class="outline-5">
<h5 id="org8ffb13f">The Media Type Object</h5>
<div class="outline-text-5" id="text-org8ffb13f">
<p>
<code>MediaTypeObject</code> adalah sebuah <i>object</i> yang mendefinisikan bentuk <code>response</code>-nya nanti seperti apa, <i>object</i> ini memiliki atribut-atribut sebagai berikut:
</p>
<ul class="org-ul">
<li><code>schema</code> yang berisi definisi data, atribut ini wajib ada ketika kita membuat sebuah <code>MediaTypeObject</code></li>
<li><code>example</code> yang berisi  data</li>
<li><code>examples</code> yang berisi  data jika bentuk datanya berupa <i>array</i></li>
<li><code>encoding</code> yang berisi  encoding dari data tersebut</li>
</ul>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths:
  /posts:
    get:
      responses:
	"200":
	  description: List of post is retrieved
	  content:
	    application/json:
	      schema: {}
    post:
      responses:
	"201":
	  description: New post is created
	  content:
	    application/json:
	      schema: {}
	"400":
	  description: Cannot create post due to invalid request body schema
	  content:
	    application/json:
	      schema: {}
	"401":
	  description: Cannot create post without authorized access
	  content:
	    application/json:
	      schema: {}
	"422":
	  description: Cannot create post due to invalid request body value
	  content:
	    application/json:
	      schema: {}
	"500":
	  description: Cannot create post because of an error on the server
	  content:
	    application/json:
	      schema: {}
  /posts/{id}:
    get:
      responses:
	"200":
	  description: Post with specific id is retrieved
	  content:
	    application/json:
	      schema: {}
	"403":
	  description: Cannot retrieve post with specific id with current access
	  content:
	    application/json:
	      schema: {}
	"404":
	  description: Post does not found
	  content:
	    application/json:
	      schema: {}
    put:
      responses:
	"200":
	  description: Post with specific id is updated
	  content:
	    application/json:
	      schema: {}
	"400":
	  description: Cannot update post due to invalid request body schema
	  content:
	    application/json:
	      schema: {}
	"401":
	  description: Cannot update post without authorized access
	  content:
	    application/json:
	      schema: {}
	"403":
	  description: Cannot update post with current access
	  content:
	    application/json:
	      schema: {}
	"404":
	  description: Post does not found
	  content:
	    application/json:
	      schema: {}
	"422":
	  description: Cannot update post due to invalid request body value
	  content:
	    application/json:
	      schema: {}
	"500":
	  description: Cannot update post because of an error on the server
	  content:
	    application/json:
	      schema: {}
    delete:
      responses:
	"204":
	  description: Post with specific id is deleted
	  content:
	    application/json:
	      schema: {}
	"403":
	  description: Cannot delete post with current access
	  content:
	    application/json:
	      schema: {}
	"404":
	  description: Post does not found
	  content:
	    application/json:
	      schema: {}
</pre>
</div>

<p>
Atribut schema adalah sebuah <code>SchemaObject</code>, yang mana atribut ini digunakan untuk mendefinisikan sebuah bentuk data dari sebuah <i>response</i>.
</p>
</div>
</div>

<div id="outline-container-org64c7da5" class="outline-5">
<h5 id="org64c7da5">The Schema Object</h5>
<div class="outline-text-5" id="text-org64c7da5">
<p>
<code>SchemaObject</code> adalah sebuah object yang mana dibuat berdasarkan <a href="https://json-schema.org/">JSON Schema</a>, yang mana digunakan untuk mendefinisikan bagaimana bentuk data dari sebuah <i>object</i>. Karena atribut ini <i>compatible</i> dengan <i>JSON Schema</i>, maka dari itu, ketika kita mendefinisikan sebuah skema di dalam Open API Documentation, kita bisa pasang beberapa tools yang dapat memvalidasi sebuah <i>object</i> (parameter) apakah sudah sesuai dengan skema atau belum.
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths:
  /posts:
    get:
      responses:
	"200":
	  description: List of post is retrieved
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: string
		    example: "OK"
		  data:
		    type: array
		    items:
			type: object
			properties:
			    id:
				type: string
				example: "bdaf6814-2e99-40d5-9c15-e0238a90c886"
			    title:
				type: string
				example: Industrial Society and It's Future
			    body:
				type: string
				example: |
				    Lorem ipsum dolor sit amet,
				    consectetur adipiscing elit.
				    Nullam quis tristique dolor.
				    Donec at vehicula urna. Fusce nec lacus placerat,
				    dictum nulla quis, vehicula urna.
				    Suspendisse dictum neque sapien,
				    mollis semper quam tincidunt sit amet.
				    Fusce ullamcorper, nisi id pharetra egestas,
				    nisi libero ullamcorper mi,
				    id consectetur enim arcu eget turpis.
				    Fusce urna diam, elementum a diam non,
				    efficitur tempus eros.
				    Nam tincidunt orci vitae enim vulputate vehicula.
				    Nullam commodo magna sed nulla efficitur,
				    in gravida eros malesuada.
				    Quisque vel turpis sed elit
				    finibus luctus et sed leo.
				    Etiam porta metus purus,
				    in vulputate est accumsan a.
				    Aenean pulvinar aliquam nunc,
				    vel pharetra diam sodales in.
			    authorId:
				type: string
				example: "196508c4-495f-4d2e-898b-776fb3c1e8b4"
			    authorName:
				type: string
				example: "Ted Kaczynski"
			    authorAvatar:
				type: string
				example: "https://placekitten.com/200/200"
			    createdAt:
				type: string
				example: "2021-07-30 17:00:00 +0700"
			    updatedAt:
				type: string
				example: "2021-07-30 17:00:00 +0700"
    post:
      responses:
	"201":
	  description: New post is created
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: string
		    example: "OK"
		  data:
		    type: object
		    properties:
			id:
			    type: string
			    example: "bdaf6814-2e99-40d5-9c15-e0238a90c886"
			title:
			    type: string
			    example: Industrial Society and It's Future
			body:
			    type: string
			    example: |
				Lorem ipsum dolor sit amet,
				consectetur adipiscing elit.
				Nullam quis tristique dolor.
				Donec at vehicula urna. Fusce nec lacus placerat,
				dictum nulla quis, vehicula urna.
				Suspendisse dictum neque sapien,
				mollis semper quam tincidunt sit amet.
				Fusce ullamcorper, nisi id pharetra egestas,
				nisi libero ullamcorper mi,
				id consectetur enim arcu eget turpis.
				Fusce urna diam, elementum a diam non,
				efficitur tempus eros.
				Nam tincidunt orci vitae enim vulputate vehicula.
				Nullam commodo magna sed nulla efficitur,
				in gravida eros malesuada.
				Quisque vel turpis sed elit
				finibus luctus et sed leo.
				Etiam porta metus purus,
				in vulputate est accumsan a.
				Aenean pulvinar aliquam nunc,
				vel pharetra diam sodales in.
			authorId:
			    type: string
			    example: "196508c4-495f-4d2e-898b-776fb3c1e8b4"
			authorName:
			    type: string
			    example: "Ted Kaczynski"
			authorAvatar:
			    type: string
			    example: "https://placekitten.com/200/200"
			createdAt:
			    type: string
			    example: "2021-07-30 17:00:00 +0700"
			updatedAt:
			    type: string
			    example: "2021-07-30 17:00:00 +0700"
	"400":
	  description: Cannot create post due to invalid request body schema
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		    status:
			type: string
			example: "FAIL"
		    data:
			type: object
			properties:
			    name:
				type: string
				example: "BAD_REQUEST"
			    message:
				type: string
				example: "Missing field"
			    payload:
				type: object
				properties:
				    params:
					type: object
					properties:
					    title:
						type: string
						example: "is required"
	"401":
	  description: Cannot create post without authorized access
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		    status:
			type: string
			example: "FAIL"
		    data:
			type: object
			properties:
			    name:
				type: string
				example: "UNAUTHORIZED"
			    message:
				type: string
				example: "Access token is invalid"
	"422":
	  description: Cannot create post due to invalid request body value
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		    status:
			type: string
			example: "FAIL"
		    data:
			type: object
			properties:
			    name:
				type: string
				example: "UNPROCESSABLE_ENTITY"
			    message:
				type: string
				example: "Field has invalid value"
			    payload:
				type: object
				properties:
				    title:
					type: string
					example: "max 32 character"
	"500":
	  description: Cannot create post because of an error on the server
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		    status:
			type: string
			example: "ERROR"
		    data:
			type: object
			properties:
			    name:
				type: string
				example: "INTERNAL_SERVER_ERROR"
			    message:
				type: string
				example: "Something is error"
			    stack:
				type: string
				example: "app/controllers/postController.js:64"
</pre>
</div>

<p>
Dokumen diatas <b>sudah valid</b>, namun kita masih perlu menambahkan bagaimana cara melakukan <i>request</i> yang baik dan benar yang mana hal ini akan dibahas pada bagian berikutnya.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org147af97" class="outline-3">
<h3 id="org147af97">Request Body and Parameter</h3>
<div class="outline-text-3" id="text-org147af97">
<p>
Setiap kita menjalankan suatu operasi, tentunya ada beberapa operasi yang memerlukan input dari yang meminta operasi tersebut dijalankan, layaknya sebuah <i>function</i> di dalam sebuah program, ketika kita memanggil sebuah <i>function</i> terkadang <i>function</i> tersebut meminta beberapa parameter. Begitu juga dengan sebuah API, setiap operasi di API, terkadang perlu parameter yang harus dikirim oleh <i>consumer</i> dari API tersebut.
</p>
</div>

<div id="outline-container-org4e6294f" class="outline-4">
<h4 id="org4e6294f">The Parameter Object</h4>
<div class="outline-text-4" id="text-org4e6294f">
<p>
<i>Parameter object</i> adalah sebuah <i>object</i> yang kita gunakan untuk mendefinisikan parameter yang dapat kita kirim pada sebuah operasi. Biasanya, <i>object</i> ini digunakan untuk mendefinisikan <i>path parameter</i> dan <i>query parameter</i> jika dalam sebuah endpoint membutuhkan kedua jenis parameter tersebut.
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths:
  /posts:
    get:
      parameters:
	- in: query
	  name: status
	  description: The status of Posts
	  required: false
	  schema:
	    type: string
	    enum:
		- DRAFT
		- PUBLISHED
	- in: query
	  name: page
	  description: The page of list of posts
	  required: false
	  schema:
	    type: integer
	    example: 1
	- in: query
	  name: per_page
	  description: How much post will be listed on each page
	  required: false
	  schema:
	    type: integer
	    example: 10
      responses:
	"200":
	  description: List of post is retrieved
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: string
		    example: "OK"
		  meta:
		    type: object
		    properties:
		      page:
			type: number
			example: 1
		      per_page:
			type: number
			example: 10
		      total:
			type: number
			example: 100000
		  data:
		    type: object
		    properties:
		      posts:
			type: array
			items:
			    type: object
			    properties:
				id:
				    type: string
				    example: "bdaf6814-2e99-40d5-9c15-e0238a90c886"
				title:
				    type: string
				    example: Industrial Society and It's Future
				body:
				    type: string
				    example: |
					Lorem ipsum dolor sit amet,
					consectetur adipiscing elit.
					Nullam quis tristique dolor.
					Donec at vehicula urna. Fusce nec lacus placerat,
					dictum nulla quis, vehicula urna.
					Suspendisse dictum neque sapien,
					mollis semper quam tincidunt sit amet.
					Fusce ullamcorper, nisi id pharetra egestas,
					nisi libero ullamcorper mi,
					id consectetur enim arcu eget turpis.
					Fusce urna diam, elementum a diam non,
					efficitur tempus eros.
					Nam tincidunt orci vitae enim vulputate vehicula.
					Nullam commodo magna sed nulla efficitur,
					in gravida eros malesuada.
					Quisque vel turpis sed elit
					finibus luctus et sed leo.
					Etiam porta metus purus,
					in vulputate est accumsan a.
					Aenean pulvinar aliquam nunc,
					vel pharetra diam sodales in.
				authorId:
				    type: string
				    example: "196508c4-495f-4d2e-898b-776fb3c1e8b4"
				authorName:
				    type: string
				    example: "Ted Kaczynski"
				authorAvatar:
				    type: string
				    example: "https://placekitten.com/200/200"
				createdAt:
				    type: string
				    example: "2021-07-30 17:00:00 +0700"
				updatedAt:
				    type: string
				    example: "2021-07-30 17:00:00 +0700"
  /posts/{id}:
    get:
      parameters:
	- in: path
	  name: id
	  description: The status of Posts
	  required: true
	  schema:
	    type: string
      responses:
	"200":
	  description: Post with specific id is retrieved
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: string
		    example: "OK"
		  data:
		    type: object
		    properties:

		      id:
			  type: string
			  example: "bdaf6814-2e99-40d5-9c15-e0238a90c886"
		      title:
			  type: string
			  example: Industrial Society and It's Future
		      body:
			  type: string
			  example: |
			      Lorem ipsum dolor sit amet,
			      consectetur adipiscing elit.
			      Nullam quis tristique dolor.
			      Donec at vehicula urna. Fusce nec lacus placerat,
			      dictum nulla quis, vehicula urna.
			      Suspendisse dictum neque sapien,
			      mollis semper quam tincidunt sit amet.
			      Fusce ullamcorper, nisi id pharetra egestas,
			      nisi libero ullamcorper mi,
			      id consectetur enim arcu eget turpis.
			      Fusce urna diam, elementum a diam non,
			      efficitur tempus eros.
			      Nam tincidunt orci vitae enim vulputate vehicula.
			      Nullam commodo magna sed nulla efficitur,
			      in gravida eros malesuada.
			      Quisque vel turpis sed elit
			      finibus luctus et sed leo.
			      Etiam porta metus purus,
			      in vulputate est accumsan a.
			      Aenean pulvinar aliquam nunc,
			      vel pharetra diam sodales in.
		      authorId:
			  type: string
			  example: "196508c4-495f-4d2e-898b-776fb3c1e8b4"
		      authorName:
			  type: string
			  example: "Ted Kaczynski"
		      authorAvatar:
			  type: string
			  example: "https://placekitten.com/200/200"
		      createdAt:
			  type: string
			  example: "2021-07-30 17:00:00 +0700"
		      updatedAt:
			  type: string
			  example: "2021-07-30 17:00:00 +0700"
	"403":
	  description: Cannot retrieve post with specific id with current access
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: String
		    example: FAIL
		  data:
		    type: object
		    properties:
		      name:
			type: string
			example: "FORBIDDEN"
		      message:
			type: string
			example: "Invalid Access Level"
	"404":
	  description: Post does not found
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  name:
		    type: string
		    example: "FORBIDDEN"
		  message:
		    type: string
		    example: "Cannot find post with id=1"
</pre>
</div>
</div>
</div>

<div id="outline-container-org78248cb" class="outline-4">
<h4 id="org78248cb">The Request Body Object</h4>
<div class="outline-text-4" id="text-org78248cb">
<p>
Selain <i>parameters</i>, kita juga dapat mendefinisikan sebuah <i>parameter</i> lain yaitu <i>request body</i>. <i>Request body</i> pastinya hanya akan dipakai di dalam 3  jenis operasi saja, <code>POST</code>, <code>PUT</code>, dan <code>PATCH</code>. <i>Object</i> ini disimpan di dalam atribut yang bernama <code>requestBody</code> di dalam sebuah <i>Operation Object.</i>
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths:
  /posts:
    post:
      requestBody:
	description: Payload for making a Post
	required: true
	content:
	  application/json:
	    schema:
	      type: object
	      properties:
		title:
		    type: string
		    example: Industrial Society and It's Future
		body:
		    type: string
		    example: |
			Lorem ipsum dolor sit amet,
			consectetur adipiscing elit.
			Nullam quis tristique dolor.
			Donec at vehicula urna. Fusce nec lacus placerat,
			dictum nulla quis, vehicula urna.
			Suspendisse dictum neque sapien,
			mollis semper quam tincidunt sit amet.
			Fusce ullamcorper, nisi id pharetra egestas,
			nisi libero ullamcorper mi,
			id consectetur enim arcu eget turpis.
			Fusce urna diam, elementum a diam non,
			efficitur tempus eros.
			Nam tincidunt orci vitae enim vulputate vehicula.
			Nullam commodo magna sed nulla efficitur,
			in gravida eros malesuada.
			Quisque vel turpis sed elit
			finibus luctus et sed leo.
			Etiam porta metus purus,
			in vulputate est accumsan a.
			Aenean pulvinar aliquam nunc,
			vel pharetra diam sodales in.

      responses:
	"201":
	  description: Post is created
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: string
		    example: "OK"
		  data:
		    type: object
		    properties:
			id:
			    type: string
			    example: "bdaf6814-2e99-40d5-9c15-e0238a90c886"
			title:
			    type: string
			    example: Industrial Society and It's Future
			body:
			    type: string
			    example: |
				Lorem ipsum dolor sit amet,
				consectetur adipiscing elit.
				Nullam quis tristique dolor.
				Donec at vehicula urna. Fusce nec lacus placerat,
				dictum nulla quis, vehicula urna.
				Suspendisse dictum neque sapien,
				mollis semper quam tincidunt sit amet.
				Fusce ullamcorper, nisi id pharetra egestas,
				nisi libero ullamcorper mi,
				id consectetur enim arcu eget turpis.
				Fusce urna diam, elementum a diam non,
				efficitur tempus eros.
				Nam tincidunt orci vitae enim vulputate vehicula.
				Nullam commodo magna sed nulla efficitur,
				in gravida eros malesuada.
				Quisque vel turpis sed elit
				finibus luctus et sed leo.
				Etiam porta metus purus,
				in vulputate est accumsan a.
				Aenean pulvinar aliquam nunc,
				vel pharetra diam sodales in.
			authorId:
			    type: string
			    example: "196508c4-495f-4d2e-898b-776fb3c1e8b4"
			authorName:
			    type: string
			    example: "Ted Kaczynski"
			authorAvatar:
			    type: string
			    example: "https://placekitten.com/200/200"
			createdAt:
			    type: string
			    example: "2021-07-30 17:00:00 +0700"
			updatedAt:
			    type: string
			    example: "2021-07-30 17:00:00 +0700"
	"401":
	  description: Cannot create post without a granted access
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: String
		    example: FAIL
		  data:
		    type: object
		    properties:
		      name:
			type: string
			example: "UNAUTHORIZED"
		      message:
			type: string
			example: "Access is not granted"
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org27c8f10" class="outline-3">
<h3 id="org27c8f10">Components</h3>
<div class="outline-text-3" id="text-org27c8f10">
<p>
Ada beberapa <i>object</i> yang kita buat berulang-ulang, ketika kita mendefinisikan sebuah <i>Open API documentation</i>. Seperti bentuk <i>response</i>, <i>request body</i>, dan sebagainya. Untuk mengurangi perulangan dalam membuat <i>object</i> yang sama, kita dapat menggunakan <code>components</code>, dimana <code>components</code> ini akan diletakkan pada <i>Open API Object</i> dengan atribut bernama <code>components</code>. Ada 4 jenis <code>components</code>, yaitu:
</p>
<ul class="org-ul">
<li><code>schemas</code></li>
<li><code>requestBodies</code></li>
<li><code>responses</code></li>
<li><code>securitySchemes</code></li>
</ul>
</div>

<div id="outline-container-org94a5ab6" class="outline-4">
<h4 id="org94a5ab6">The Schema Object</h4>
<div class="outline-text-4" id="text-org94a5ab6">
<p>
<i>Schema Object</i> adalah sebuah <i>object</i> yang mana tiap atributnya adalah jenis <i>schema</i> yang dapat kita gunakan ketika kita membutuhkan <i>schema</i> di dalam sebuah <i>operation</i>.
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths:
  /posts:
    get:
      parameters:
	- in: query
	  name: status
	  description: The status of Posts
	  required: false
	  schema:
	    type: string
	    enum:
		- DRAFT
		- PUBLISHED
	- in: query
	  name: page
	  description: The page of list of posts
	  required: false
	  schema:
	    type: integer
	    example: 1
	- in: query
	  name: per_page
	  description: How much post will be listed on each page
	  required: false
	  schema:
	    type: integer
	    example: 10
      responses:
	"200":
	  description: List of post is retrieved
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: string
		    example: "OK"
		  meta:
		    type: object
		    properties:
		      page:
			type: number
			example: 1
		      per_page:
			type: number
			example: 10
		      total:
			type: number
			example: 100000
		  data:
		    type: object
		    properties:
		      posts:
			type: array
			items:
			  $ref: "#/components/schemas/Post"
    post:
      requestBody:
	description: Payload for making a Post
	required: true
	content:
	  application/json:
	    schema:
	      type: object
	      properties:
		title:
		    type: string
		    example: Industrial Society and It's Future
		body:
		    type: string
		    example: |
			Lorem ipsum dolor sit amet,
			consectetur adipiscing elit.
			Nullam quis tristique dolor.
			Donec at vehicula urna. Fusce nec lacus placerat,
			dictum nulla quis, vehicula urna.
			Suspendisse dictum neque sapien,
			mollis semper quam tincidunt sit amet.
			Fusce ullamcorper, nisi id pharetra egestas,
			nisi libero ullamcorper mi,
			id consectetur enim arcu eget turpis.
			Fusce urna diam, elementum a diam non,
			efficitur tempus eros.
			Nam tincidunt orci vitae enim vulputate vehicula.
			Nullam commodo magna sed nulla efficitur,
			in gravida eros malesuada.
			Quisque vel turpis sed elit
			finibus luctus et sed leo.
			Etiam porta metus purus,
			in vulputate est accumsan a.
			Aenean pulvinar aliquam nunc,
			vel pharetra diam sodales in.
      responses:
	"201":
	  description: Post is created
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: string
		    example: "OK"
		  data:
		    $ref: "#/components/schemas/Post"
	"401":
	  description: Cannot update post without a granted access
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: String
		    example: FAIL
		  data:
		    type: object
		    properties:
		      name:
			type: string
			example: "UNAUTHORIZED"
		      message:
			type: string
			example: "Access is not granted"
components:
  schemas:
    Post:
      type: object
      properties:
	id:
	    type: string
	    example: "bdaf6814-2e99-40d5-9c15-e0238a90c886"
	title:
	    type: string
	    example: Industrial Society and It's Future
	body:
	    type: string
	    example: |
		Lorem ipsum dolor sit amet,
		consectetur adipiscing elit.
		Nullam quis tristique dolor.
		Donec at vehicula urna. Fusce nec lacus placerat,
		dictum nulla quis, vehicula urna.
		Suspendisse dictum neque sapien,
		mollis semper quam tincidunt sit amet.
		Fusce ullamcorper, nisi id pharetra egestas,
		nisi libero ullamcorper mi,
		id consectetur enim arcu eget turpis.
		Fusce urna diam, elementum a diam non,
		efficitur tempus eros.
		Nam tincidunt orci vitae enim vulputate vehicula.
		Nullam commodo magna sed nulla efficitur,
		in gravida eros malesuada.
		Quisque vel turpis sed elit
		finibus luctus et sed leo.
		Etiam porta metus purus,
		in vulputate est accumsan a.
		Aenean pulvinar aliquam nunc,
		vel pharetra diam sodales in.
	authorId:
	    type: string
	    example: "196508c4-495f-4d2e-898b-776fb3c1e8b4"
	authorName:
	    type: string
	    example: "Ted Kaczynski"
	authorAvatar:
	    type: string
	    example: "https://placekitten.com/200/200"
	createdAt:
	    type: string
	    example: "2021-07-30 17:00:00 +0700"
	updatedAt:
	    type: string
	    example: "2021-07-30 17:00:00 +0700"
</pre>
</div>

<p>
Dokumen diatas, sudah menggunakan <code>#/components/schemas/Post</code>, untuk mendefinisikan skema dari <code>array</code> di dalam
</p>
</div>
</div>

<div id="outline-container-org2c35a60" class="outline-4">
<h4 id="org2c35a60">The Request Bodies Object</h4>
<div class="outline-text-4" id="text-org2c35a60">
<p>
<i>Request Bodies Object</i> adalah sebuah <i>object</i> yang digunakan untuk mendefinisikan sebuah <i>request body</i> yang dapat kita panggil pada sebuah operasi. <i>Request Bodies</i> juga dapat menggunakan <code>schemas</code>.
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths:
  /posts:
    post:
      requestBody:
	$ref: "#/components/requestBodies/PostRequest"
      responses:
	"201":
	  description: Post is created
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: string
		    example: "OK"
		  data:
		    $ref: "#/components/schemas/Post"
	"401":
	  description: Cannot create post without a granted access
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: string
		    example: FAIL
		  data:
		    type: object
		    properties:
		      name:
			type: string
			example: "UNAUTHORIZED"
		      message:
			type: string
			example: "Access is not granted"
  /posts/{id}:
    put:
      parameters:
	- in: path
	  name: id
	  description: The id of the Post
	  required: true
	  schema:
	    type: number
	    example: 1
      requestBody:
	$ref: "#/components/requestBodies/PostRequest"
      responses:
	"200":
	  description: Post is updated
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: string
		    example: "OK"
		  data:
		    $ref: "#/components/schemas/Post"
	"401":
	  description: Cannot update post without a granted access
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: string
		    example: FAIL
		  data:
		    type: object
		    properties:
		      name:
			type: string
			example: "UNAUTHORIZED"
		      message:
			type: string
			example: "Access is not granted"
	"403":
	  description: Cannot update post with specific id with current access
	  content:
	    application/json:
	      schema:
		type: object
		properties:
		  status:
		    type: string
		    example: FAIL
		  data:
		    type: object
		    properties:
		      name:
			type: string
			example: "FORBIDDEN"
		      message:
			type: string
			example: "Invalid Access Level"
components:
  requestBodies:
    PostRequest:
	description: Payload for making a Post
	required: true
	content:
	    application/json:
		schema:
		    type: object
		    properties:
			title:
			    type: string
			    example: Industrial Society and It's Future
			body:
			    type: string
			    example: |
				Lorem ipsum dolor sit amet,
				consectetur adipiscing elit.
				Nullam quis tristique dolor.
				Donec at vehicula urna. Fusce nec lacus placerat,
				dictum nulla quis, vehicula urna.
				Suspendisse dictum neque sapien,
				mollis semper quam tincidunt sit amet.
				Fusce ullamcorper, nisi id pharetra egestas,
				nisi libero ullamcorper mi,
				id consectetur enim arcu eget turpis.
				Fusce urna diam, elementum a diam non,
				efficitur tempus eros.
				Nam tincidunt orci vitae enim vulputate vehicula.
				Nullam commodo magna sed nulla efficitur,
				in gravida eros malesuada.
				Quisque vel turpis sed elit
				finibus luctus et sed leo.
				Etiam porta metus purus,
				in vulputate est accumsan a.
				Aenean pulvinar aliquam nunc,
				vel pharetra diam sodales in.
  schemas:
    Post:
      type: object
      properties:
	id:
	    type: string
	    example: "bdaf6814-2e99-40d5-9c15-e0238a90c886"
	title:
	    type: string
	    example: Industrial Society and It's Future
	body:
	    type: string
	    example: |
		Lorem ipsum dolor sit amet,
		consectetur adipiscing elit.
		Nullam quis tristique dolor.
		Donec at vehicula urna. Fusce nec lacus placerat,
		dictum nulla quis, vehicula urna.
		Suspendisse dictum neque sapien,
		mollis semper quam tincidunt sit amet.
		Fusce ullamcorper, nisi id pharetra egestas,
		nisi libero ullamcorper mi,
		id consectetur enim arcu eget turpis.
		Fusce urna diam, elementum a diam non,
		efficitur tempus eros.
		Nam tincidunt orci vitae enim vulputate vehicula.
		Nullam commodo magna sed nulla efficitur,
		in gravida eros malesuada.
		Quisque vel turpis sed elit
		finibus luctus et sed leo.
		Etiam porta metus purus,
		in vulputate est accumsan a.
		Aenean pulvinar aliquam nunc,
		vel pharetra diam sodales in.
	authorId:
	    type: string
	    example: "196508c4-495f-4d2e-898b-776fb3c1e8b4"
	authorName:
	    type: string
	    example: "Ted Kaczynski"
	authorAvatar:
	    type: string
	    example: "https://placekitten.com/200/200"
	createdAt:
	    type: string
	    example: "2021-07-30 17:00:00 +0700"
	updatedAt:
	    type: string
	    example: "2021-07-30 17:00:00 +0700"
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0b1014" class="outline-4">
<h4 id="orgc0b1014">The Response Object</h4>
<div class="outline-text-4" id="text-orgc0b1014">
<p>
<i>Response Object</i> adalah sebuah <i>object</i> yang kita gunakan untuk membuat sebuah definisi <i>response</i> dengan berbagai jenis tipe media yang bisa didefinisikan.
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths:
  /posts:
    post:
      requestBody:
	$ref: "#/components/requestBodies/PostRequest"
      responses:
	"201":
	  $ref: "#/components/responses/PostResponse"
	"401":
	  $ref: "#/components/responses/UnauthorizedResponse"
  /posts/{id}:
    put:
      parameters:
	- in: path
	  name: id
	  description: The id of the Post
	  required: true
	  schema:
	    type: number
	    example: 1
      requestBody:
	$ref: "#/components/requestBodies/PostRequest"
      responses:
	"200":
	  $ref: "#/components/responses/PostResponse"
	"401":
	  $ref: "#/components/responses/UnauthorizedResponse"
	"403":
	  $ref: "#/components/responses/ForbiddenResponse"
components:
  requestBodies:
    PostRequest:
	description: Payload for making a Post
	required: true
	content:
	    application/json:
		schema:
		    type: object
		    properties:
			title:
			    type: string
			    example: Industrial Society and It's Future
			body:
			    type: string
			    example: |
				Lorem ipsum dolor sit amet,
				consectetur adipiscing elit.
				Nullam quis tristique dolor.
				Donec at vehicula urna. Fusce nec lacus placerat,
				dictum nulla quis, vehicula urna.
				Suspendisse dictum neque sapien,
				mollis semper quam tincidunt sit amet.
				Fusce ullamcorper, nisi id pharetra egestas,
				nisi libero ullamcorper mi,
				id consectetur enim arcu eget turpis.
				Fusce urna diam, elementum a diam non,
				efficitur tempus eros.
				Nam tincidunt orci vitae enim vulputate vehicula.
				Nullam commodo magna sed nulla efficitur,
				in gravida eros malesuada.
				Quisque vel turpis sed elit
				finibus luctus et sed leo.
				Etiam porta metus purus,
				in vulputate est accumsan a.
				Aenean pulvinar aliquam nunc,
				vel pharetra diam sodales in.
  responses:
    ForbiddenResponse:
      description: Response when accessing protected endpoint with access but sufficient access
      content:
	application/json:
	  schema:
	    type: object
	    properties:
	      status:
		type: string
		example: FAIL
	      data:
		type: object
		properties:
		  name:
		    type: string
		    example: "FORBIDDEN"
		  message:
		    type: string
		    example: "Invalid access level"
    UnauthorizedResponse:
      description: Response when accessing protected endpoint without access
      content:
	application/json:
	  schema:
	    type: object
	    properties:
	      status:
		type: string
		example: FAIL
	      data:
		type: object
		properties:
		  name:
		    type: string
		    example: "UNAUTHORIZED"
		  message:
		    type: string
		    example: "Access is not granted"
    PostResponse:
      description: Response when mutating and get individual Post.
      content:
	application/json:
	  schema:
	    type: object
	    properties:
	      status:
		type: string
		example: OK
	      data:
		$ref: "#/components/schemas/Post"
  schemas:
    Post:
      type: object
      properties:
	id:
	    type: string
	    example: "bdaf6814-2e99-40d5-9c15-e0238a90c886"
	title:
	    type: string
	    example: Industrial Society and It's Future
	body:
	    type: string
	    example: |
		Lorem ipsum dolor sit amet,
		consectetur adipiscing elit.
		Nullam quis tristique dolor.
		Donec at vehicula urna. Fusce nec lacus placerat,
		dictum nulla quis, vehicula urna.
		Suspendisse dictum neque sapien,
		mollis semper quam tincidunt sit amet.
		Fusce ullamcorper, nisi id pharetra egestas,
		nisi libero ullamcorper mi,
		id consectetur enim arcu eget turpis.
		Fusce urna diam, elementum a diam non,
		efficitur tempus eros.
		Nam tincidunt orci vitae enim vulputate vehicula.
		Nullam commodo magna sed nulla efficitur,
		in gravida eros malesuada.
		Quisque vel turpis sed elit
		finibus luctus et sed leo.
		Etiam porta metus purus,
		in vulputate est accumsan a.
		Aenean pulvinar aliquam nunc,
		vel pharetra diam sodales in.
	authorId:
	    type: string
	    example: "196508c4-495f-4d2e-898b-776fb3c1e8b4"
	authorName:
	    type: string
	    example: "Ted Kaczynski"
	authorAvatar:
	    type: string
	    example: "https://placekitten.com/200/200"
	createdAt:
	    type: string
	    example: "2021-07-30 17:00:00 +0700"
	updatedAt:
	    type: string
	    example: "2021-07-30 17:00:00 +0700"
</pre>
</div>
</div>
</div>

<div id="outline-container-org1423171" class="outline-4">
<h4 id="org1423171">The Security Schemes Object</h4>
<div class="outline-text-4" id="text-org1423171">
<p>
<i>Security Schemes Object</i> digunakan untuk mendefinisikan sebuah security yang nantinya akan digunakan di dalam operasi. Untuk detail terkait ini dapat dilihat pada tautan berikut:
</p>

<p>
<a href="https://swagger.io/docs/specification/authentication/">https://swagger.io/docs/specification/authentication/</a>
</p>

<p>
Di dalam bagian ini, kita akan membuat sebuah <code>securitySchemes</code> yang memiliki <code>Bearer Auth</code> di dalamnya.
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
paths:
  /posts:
    post:
      security:
	- BearerAuth: []
      requestBody:
	$ref: "#/components/requestBodies/PostRequest"
      responses:
	"201":
	  $ref: "#/components/responses/PostResponse"
	"401":
	  $ref: "#/components/responses/UnauthorizedResponse"
  /posts/{id}:
    put:
      parameters:
	- in: path
	  name: id
	  description: The id of the Post
	  required: true
	  schema:
	    type: number
	    example: 1
      security:
	- BearerAuth: []
      requestBody:
	$ref: "#/components/requestBodies/PostRequest"
      responses:
	"200":
	  $ref: "#/components/responses/PostResponse"
	"401":
	  $ref: "#/components/responses/UnauthorizedResponse"
	"403":
	  $ref: "#/components/responses/ForbiddenResponse"
components:
  requestBodies:
    PostRequest:
	description: Payload for making a Post
	required: true
	content:
	    application/json:
		schema:
		    type: object
		    properties:
			title:
			    type: string
			    example: Industrial Society and It's Future
			body:
			    type: string
			    example: |
				Lorem ipsum dolor sit amet,
				consectetur adipiscing elit.
				Nullam quis tristique dolor.
				Donec at vehicula urna. Fusce nec lacus placerat,
				dictum nulla quis, vehicula urna.
				Suspendisse dictum neque sapien,
				mollis semper quam tincidunt sit amet.
				Fusce ullamcorper, nisi id pharetra egestas,
				nisi libero ullamcorper mi,
				id consectetur enim arcu eget turpis.
				Fusce urna diam, elementum a diam non,
				efficitur tempus eros.
				Nam tincidunt orci vitae enim vulputate vehicula.
				Nullam commodo magna sed nulla efficitur,
				in gravida eros malesuada.
				Quisque vel turpis sed elit
				finibus luctus et sed leo.
				Etiam porta metus purus,
				in vulputate est accumsan a.
				Aenean pulvinar aliquam nunc,
				vel pharetra diam sodales in.
  responses:
    ForbiddenResponse:
      description: Response when accessing protected endpoint with access but sufficient access
      content:
	application/json:
	  schema:
	    type: object
	    properties:
	      status:
		type: string
		example: FAIL
	      data:
		type: object
		properties:
		  name:
		    type: string
		    example: "FORBIDDEN"
		  message:
		    type: string
		    example: "Invalid access level"
    UnauthorizedResponse:
      description: Response when accessing protected endpoint without access
      content:
	application/json:
	  schema:
	    type: object
	    properties:
	      status:
		type: string
		example: FAIL
	      data:
		type: object
		properties:
		  name:
		    type: string
		    example: "UNAUTHORIZED"
		  message:
		    type: string
		    example: "Access is not granted"
    PostResponse:
      description: Response when mutating and get individual Post.
      content:
	application/json:
	  schema:
	    type: object
	    properties:
	      status:
		type: string
		example: OK
	      data:
		$ref: "#/components/schemas/Post"
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
  schemas:
    Post:
      type: object
      properties:
	id:
	    type: string
	    example: "bdaf6814-2e99-40d5-9c15-e0238a90c886"
	title:
	    type: string
	    example: Industrial Society and It's Future
	body:
	    type: string
	    example: |
		Lorem ipsum dolor sit amet,
		consectetur adipiscing elit.
		Nullam quis tristique dolor.
		Donec at vehicula urna. Fusce nec lacus placerat,
		dictum nulla quis, vehicula urna.
		Suspendisse dictum neque sapien,
		mollis semper quam tincidunt sit amet.
		Fusce ullamcorper, nisi id pharetra egestas,
		nisi libero ullamcorper mi,
		id consectetur enim arcu eget turpis.
		Fusce urna diam, elementum a diam non,
		efficitur tempus eros.
		Nam tincidunt orci vitae enim vulputate vehicula.
		Nullam commodo magna sed nulla efficitur,
		in gravida eros malesuada.
		Quisque vel turpis sed elit
		finibus luctus et sed leo.
		Etiam porta metus purus,
		in vulputate est accumsan a.
		Aenean pulvinar aliquam nunc,
		vel pharetra diam sodales in.
	authorId:
	    type: string
	    example: "196508c4-495f-4d2e-898b-776fb3c1e8b4"
	authorName:
	    type: string
	    example: "Ted Kaczynski"
	authorAvatar:
	    type: string
	    example: "https://placekitten.com/200/200"
	createdAt:
	    type: string
	    example: "2021-07-30 17:00:00 +0700"
	updatedAt:
	    type: string
	    example: "2021-07-30 17:00:00 +0700"
</pre>
</div>

<p>
Ketika kita memasang <code>security</code> di dalam sebuah <i>operation</i>, maka operasi tersebut akan membutuhkan sebuah <i>access</i> yang memadai, seperti <i>JWT</i> atau apapun yang digunakan oleh API untuk mengautentikasi sebuah <i>request</i>.
</p>
</div>
</div>
</div>

<div id="outline-container-org2b68fb5" class="outline-3">
<h3 id="org2b68fb5">API Servers</h3>
<div class="outline-text-3" id="text-org2b68fb5">
<p>
Di dalam dokumentasi Open API, kita dapat mendefinisikan apa saja sih server yang menjalankan API tersebut. Untuk mendefinisikannya, kita dapat menggunakan atribut bernama <code>servers</code>, di dalam <i>Open API object</i>.
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
servers:
  - description: Mock Server
    url: https://mock.medium.com
  - description: "Staging Server"
    url: https://staging.medium.com
  - description: "Beta Server"
    url: https://beta.medium.com
  - description: "Production Server"
    url: https://medium.com
paths: {}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2ddd679" class="outline-2">
<h2 id="org2ddd679">Menampilkan Open API Documentation</h2>
<div class="outline-text-2" id="text-org2ddd679">
<p>
Berikut ini adalah sebuah Open API Specification yang akan kita gunakan untuk menampilkan sebuah UI dari Open API Specification kita.
</p>

<div class="org-src-container">
<pre class="src src-yaml">openapi: 3.0.0
info:
  title: Medium Blogging API
  version: 0.0.1
servers:
  - description: Mock Server
    url: https://mock.medium.com
  - description: "Staging Server"
    url: https://staging.medium.com
  - description: "Beta Server"
    url: https://beta.medium.com
  - description: "Production Server"
    url: https://medium.com
tags:
  - name: Post
    description: Contain every operation about Post Resource
paths:
  /posts:
    post:
      operationId: createPost
      tags:
      - Post
      requestBody:
	$ref: "#/components/requestBodies/PostRequest"
      responses:
	"201":
	  $ref: "#/components/responses/PostResponse"
	"401":
	  $ref: "#/components/responses/UnauthorizedResponse"
  /posts/{id}:
    put:
      operationId: updatePost
      tags:
      - Post
      parameters:
	- in: path
	  name: id
	  description: The id of the Post
	  required: true
	  schema:
	    type: number
	    example: 1
      requestBody:
	$ref: "#/components/requestBodies/PostRequest"
      responses:
	"200":
	  $ref: "#/components/responses/PostResponse"
	"401":
	  $ref: "#/components/responses/UnauthorizedResponse"
	"403":
	  $ref: "#/components/responses/ForbiddenResponse"
components:
  requestBodies:
    PostRequest:
	description: Payload for making a Post
	required: true
	content:
	    application/json:
		schema:
		    type: object
		    properties:
			title:
			    type: string
			    example: Industrial Society and It's Future
			body:
			    type: string
			    example: |
				Lorem ipsum dolor sit amet,
				consectetur adipiscing elit.
				Nullam quis tristique dolor.
				Donec at vehicula urna. Fusce nec lacus placerat,
				dictum nulla quis, vehicula urna.
				Suspendisse dictum neque sapien,
				mollis semper quam tincidunt sit amet.
				Fusce ullamcorper, nisi id pharetra egestas,
				nisi libero ullamcorper mi,
				id consectetur enim arcu eget turpis.
				Fusce urna diam, elementum a diam non,
				efficitur tempus eros.
				Nam tincidunt orci vitae enim vulputate vehicula.
				Nullam commodo magna sed nulla efficitur,
				in gravida eros malesuada.
				Quisque vel turpis sed elit
				finibus luctus et sed leo.
				Etiam porta metus purus,
				in vulputate est accumsan a.
				Aenean pulvinar aliquam nunc,
				vel pharetra diam sodales in.
  responses:
    ForbiddenResponse:
      description: Response when accessing protected endpoint with access but sufficient access
      content:
	application/json:
	  schema:
	    type: object
	    properties:
	      status:
		type: string
		example: FAIL
	      data:
		type: object
		properties:
		  name:
		    type: string
		    example: "FORBIDDEN"
		  message:
		    type: string
		    example: "Invalid access level"
    UnauthorizedResponse:
      description: Response when accessing protected endpoint without access
      content:
	application/json:
	  schema:
	    type: object
	    properties:
	      status:
		type: string
		example: FAIL
	      data:
		type: object
		properties:
		  name:
		    type: string
		    example: "UNAUTHORIZED"
		  message:
		    type: string
		    example: "Access is not granted"
    PostResponse:
      description: Response when mutating and get individual Post.
      content:
	application/json:
	  schema:
	    type: object
	    properties:
	      status:
		type: string
		example: OK
	      data:
		$ref: "#/components/schemas/Post"
  schemas:
    Post:
      type: object
      properties:
	id:
	    type: string
	    example: "bdaf6814-2e99-40d5-9c15-e0238a90c886"
	title:
	    type: string
	    example: Industrial Society and It's Future
	body:
	    type: string
	    example: |
		Lorem ipsum dolor sit amet,
		consectetur adipiscing elit.
		Nullam quis tristique dolor.
		Donec at vehicula urna. Fusce nec lacus placerat,
		dictum nulla quis, vehicula urna.
		Suspendisse dictum neque sapien,
		mollis semper quam tincidunt sit amet.
		Fusce ullamcorper, nisi id pharetra egestas,
		nisi libero ullamcorper mi,
		id consectetur enim arcu eget turpis.
		Fusce urna diam, elementum a diam non,
		efficitur tempus eros.
		Nam tincidunt orci vitae enim vulputate vehicula.
		Nullam commodo magna sed nulla efficitur,
		in gravida eros malesuada.
		Quisque vel turpis sed elit
		finibus luctus et sed leo.
		Etiam porta metus purus,
		in vulputate est accumsan a.
		Aenean pulvinar aliquam nunc,
		vel pharetra diam sodales in.
	authorId:
	    type: string
	    example: "196508c4-495f-4d2e-898b-776fb3c1e8b4"
	authorName:
	    type: string
	    example: "Ted Kaczynski"
	authorAvatar:
	    type: string
	    example: "https://placekitten.com/200/200"
	createdAt:
	    type: string
	    example: "2021-07-30 17:00:00 +0700"
	updatedAt:
	    type: string
	    example: "2021-07-30 17:00:00 +0700"
</pre>
</div>
</div>

<div id="outline-container-orgba6bccf" class="outline-3">
<h3 id="orgba6bccf">Swagger UI</h3>
<div class="outline-text-3" id="text-orgba6bccf">

<figure>
<img src="../../../assets/images/open-api/SWAGGER.png" alt="SWAGGER.png" width="100%">

</figure>

<p>
Untuk menampilkan dokumentasi Open API ini sangat tergantung terhadap bahasa yang digunakan dari sebuah server. Untuk express, kita dapat menggunakan library <a href="https://www.npmjs.com/package/swagger-ui-express">swagger-ui-express</a>.
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">express</span> = require(<span style="font-style: italic;">'express'</span>);
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">swaggerUi</span> = require(<span style="font-style: italic;">'swagger-ui-express'</span>);
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">app</span> = express();
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">swaggerDocument</span> = require(<span style="font-style: italic;">'./swagger.json'</span>);

app.use(<span style="font-style: italic;">'/api-docs'</span>, swaggerUi.serve, swaggerUi.setup(swaggerDocument));
</pre>
</div>

<p>
Kode diatas membutuhkan file bernama <code>swagger.json</code>, ini adalah nama dari file Open API Documentation yang sudah kalian buat, namun dalam format JSON. Kalau kalian ingin menggunakan versi YAML, maka ada beberapa library yang perlu kita instal agar kita dapat menggunakan file <code>YAML</code> kita.
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">express</span> = require(<span style="font-style: italic;">'express'</span>);
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">YAML</span> = require(<span style="font-style: italic;">'yamljs'</span>);
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">swaggerUi</span> = require(<span style="font-style: italic;">'swagger-ui-express'</span>);

<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">app</span> = express();
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">swaggerDocument</span> = YAML.load(<span style="font-style: italic;">'./openapi.yaml'</span>);
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">port</span> = 3000;

app.use(<span style="font-style: italic;">'/api-docs'</span>, swaggerUi.serve, swaggerUi.setup(swaggerDocument));

app.listen(port, () =&gt; console.log(<span style="font-style: italic;">`Example app listening on port ${port}!`</span>));
</pre>
</div>

<p>
Maka dokumentasi API-mu akan dapat diakses melalui server express pada <i>path</i> <code>/api-docs</code>.
</p>
</div>
</div>

<div id="outline-container-orgc0acfee" class="outline-3">
<h3 id="orgc0acfee">ReDoc</h3>
<div class="outline-text-3" id="text-orgc0acfee">

<figure>
<img src="../../../assets/images/open-api/REDOC.png" alt="REDOC.png" width="100%">

</figure>

<p>
Untuk menggunakan ReDoc di dalam express, kita hanya perlu menginstal library bernama <a href="https://www.npmjs.com/package/redoc-express">redoc-express</a>. Dan cara menggunakannya cukup sederhana.
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">express</span> = require(<span style="font-style: italic;">'express'</span>);
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">redoc</span> = require(<span style="font-style: italic;">'redoc-express'</span>);
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">YAML</span> = require(<span style="font-style: italic;">'yamljs'</span>)
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">openAPIDocument</span> = YAML.load(<span style="font-style: italic;">'./openapi.yaml'</span>)

<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">app</span> = express();
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">port</span> = 3000;

<span style="font-weight: bold; font-style: italic;">// </span><span style="font-weight: bold; font-style: italic;">serve your swagger.json file</span>
app.get(<span style="font-style: italic;">'/docs/swagger.json'</span>, (req, res) =&gt; {
    res.status(200).json(openAPIDocument)
});

<span style="font-weight: bold; font-style: italic;">// </span><span style="font-weight: bold; font-style: italic;">define title and specUrl location</span>
<span style="font-weight: bold; font-style: italic;">// </span><span style="font-weight: bold; font-style: italic;">serve redoc</span>
app.get(
  <span style="font-style: italic;">'/docs'</span>,
  redoc({
    title: <span style="font-style: italic;">'API Docs'</span>,
    specUrl: <span style="font-style: italic;">'/docs/swagger.json'</span>
  })
);

app.listen(port, () =&gt; console.log(<span style="font-style: italic;">`Example app listening on port ${port}!`</span>));
</pre>
</div>

<p>
Ketika kalian membuka halaman <code>/docs</code>, maka kalian akan melihat dokumentasi API kalian dengan UI dari Redoc.
</p>
</div>
</div>
</div>

<div id="outline-container-org0aefa98" class="outline-2">
<h2 id="org0aefa98">Membuat Mock API untuk Early Development</h2>
<div class="outline-text-2" id="text-org0aefa98">
<p>
Untuk membuat Mock API sangatlah mudah, kalian hanya perlu:
</p>
<ol class="org-ol">
<li>Buka <a href="https://editor.swagger.io/">editor.swagger.io</a></li>
<li>Paste Open API Documentationmu</li>
<li>Generate Server</li>
<li>Pilih bahasa <code>nodejs-server</code></li>
<li>Download</li>
<li>Extract</li>
<li><code>npm start</code></li>
</ol>

<p>
Server yang kamu jalankan akan dapat memenuhi kebutuhkan kontrak dari API yang sudah kamu definisikan, hal ini sangat berguna bagi developer frontend, karena mereka sudah bisa menggunakan Mock API kita untuk mengimplementasikan integrasi ke API.
</p>
</div>
</div>

<div id="outline-container-orga90a443" class="outline-2">
<h2 id="orga90a443">Kesimpulan</h2>
<div class="outline-text-2" id="text-orga90a443">
<p>
Open API Documentation sangat berguna dalam proses development, karena dengan adanya Open API documentation, kita dapat membuat Mock API secara otomatis, yang dapat menggantikan kebutuhan adanya API di dalam proses pengembangan website.
</p>

<p>
Dan juga, Open API documentation sangat berguna untuk mendokumentasikan setiap operasi yang dapat kita lakukan dengan menggunakan API yang kita dokumentasikan.
</p>
</div>
</div>

<div id="outline-container-orge382824" class="outline-2">
<h2 id="orge382824">Referensi</h2>
<div class="outline-text-2" id="text-orge382824">
<ul class="org-ul">
<li><a href="https://oai.github.io/Documentation/">Open API Initiative</a></li>
<li><a href="https://swagger.io/docs/specification/about/">Swagger</a></li>
</ul>
</div>
</div>
</main>
<footer id="postamble" class="status">
<p> 2021 Fikri Rahmat Nurhidayat</p>
</footer>
</body>
</html>
