<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>Open API - fikrirnurhidayat</title>
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="icon" 
      type="image/png" 
      href="/favicon.png">
    <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/default.min.css">
  </head>
  <body>
    <header>
      <h1 class="brand">
        <a href="/">fikrirnurhidayat</a>
      </h1>

      <div class="nav-link">
        
          
            <a href="/about">About</a>
          
        
          
            <a href="/blogs">Blogs</a>
          
        
      </div>
    </header>

    <h1>Open API</h1>
    <h5>Dec 01, 2021</h5>

    <h1 id="pendahuluan">Pendahuluan</h1>

<p>Ketika kita membuat sebuah remote API (Backend Web API) tentu saja kita perlu mendokumentasikannya, mulai dari operasi apa saja yang bisa kita jalankan melalui remote API tersebut, dan apa saja parameter yang dibutuhkan agar pengguna remote API kita dapat menjalankan operasi tersebut dengan baik. Biasanya, kita sebagai developer akan mendokumentasikan cara penggunaan remote API tersebut dengan menggunakan sebuah dokumen, baik itu PDF, README, Website, dan bentuk-bentuk dokumen yang lainnya.</p>

<p><img src="/assets/images/2021/12/01/FRONTEND-TO-BACKEND.png" alt="img" /></p>

<p>Ada banyak cara untuk mendokumentasikan remote API (Backend Web API) kita, salah satu caranya adalah dengan menggunakan Open API Specification. Namun, sebelum kita bahas terkait Open API Specification, kita harus pahami kembali makna sebenarnya dari sebuah API itu apa sih.</p>

<h1 id="apa-itu-api">Apa itu API?</h1>

<p><strong>API</strong> atau <em>application programming interface</em> adalah sebuah penghubung antar dua aplikasi, sebagai contoh adalah aplikasi frontend kita, dengan backend kita. Dimana API ini punya sederet operasi yang bisa kita panggil untuk menjalankan beberapa fungsi dari aplikasi backend kita. Sebagai pengguna dari API, kita tidak perlu tau implementasi dari API itu seperti apa, yang terpenting adalah, kita tau operasi ini tentang apa, parameternya seperti apa, dan hasil dari operasi ini apa, kita tidak perlu tau detail tentang bagaimana implementasinya. Familiar bukan? Ini yang bisa kita sebut sebagai abstraksi.</p>

<p>Berhubungan dengan apa yang kita pelajari di chapter-chapter sebelumnya, API yang kita bicarakan disini biasanya adalah sebuah remote API yang dapat kita panggil menggunakan protokol HTTP atau protokol yang mirip dengan HTTP (WebSocket dsb).</p>

<p>API biasa disebut sebagai sebuah <strong>kontrak</strong>, karena API biasa diasumsikan tidak akan pernah rusak, layaknya sebuah hukum, yang dimana ketika sudah ditetapkan aturan demikian, maka hampir tidak akan berubah, kecuali ketika diamandemen.</p>

<p><img src="/assets/images/2021/12/01/PROVIDER-CONSOOMER.png" alt="img" /></p>

<p>Untuk merangkum definisi tentang API, secara singkat, kita bisa simpulkan sebagai berikut:</p>

<ul>
  <li>Pihak yang menyediakan sebuah servis (contoh: login, register, dan logika bisnis lainnya) melalui API disebut sebagai <strong>Provider</strong> (biasa disebut sebagai Backend)</li>
  <li>Pihak yang meminta servis tersebut melalui API disebut sebagai <strong>Consumer</strong> (biasa disebut sebagai Frontend)</li>
</ul>

<p>Wujud dari API biasanya adalah sebuah <em>function</em>, <em>method</em> ataupun <em>endpoint</em>. Lantas bagaimana cara mengomunikasikan pemahaman tentang sebuah aplikasi backend Web API tuh punya endpoint apa aja sih? Salah satu solusinya adalah menggunakan Open API.</p>

<h1 id="apa-itu-open-api">Apa itu Open API?</h1>

<p>Open API adalah sebuah deskripsi dari sebuah remote API yang biasanya dapat kita panggil menggunakan protokol HTTP atau protokol yang mirip dengan HTTP seperti WebSocket. Dimana deskripsi ini dapat dibaca oleh mesin, karena deskripsi ini ditulis dengan format JSON atau YAML, maka dari itu data tersebut dapat diurai oleh mesin dan dibaca sebagai sebuah <em>object</em> di dalam sebuah program.</p>

<p>Jadi, ketika kita mendeskripsikan sebuah remote API menggunakan Open API, tidak hanya kita saja manusia, yang dapat membacanya, namun mesin juga dapat membacanya.</p>

<blockquote>
  <p>Terus apa keuntungan menggunakan Open API, dibanding kita mendokumentasikannya dengan dokumen seperti PDF atau README saja?</p>
</blockquote>

<p>Keuntungan mendeskripsikan remote API menggunakan Open API adalah, kita dapat menggunakan banyak tools yang dapat membantu kita dalam pengembangan aplikasi kita, sebagai contoh adalah <strong>client codegen</strong>, yang dapat membantu kita untuk membuat sebuah <em>library</em> atau <em>SDK (software development kit)</em> untuk mengonsumsi remote API yang kita buat yang nantinya digunakan oleh aplikasi frontend kita. Tentu saja ini akan mempercepat proses pengembangan web.</p>

<blockquote>
  <p>Untuk melihat lebih jauh lagi tentang tools-tools apa saja sih yang dapat kita gunakan dengan menggunakan Open API dapat dicek pada tautan berikut: <a href="https://openapi.tools/">https://openapi.tools/</a></p>
</blockquote>

<p>Open API ini biasanya berbentuk file yang memiliki ektensi <code class="language-plaintext highlighter-rouge">.json</code> atau <code class="language-plaintext highlighter-rouge">.yaml</code>, dimana konten di dalam file tersebut adalah properti atau atribut-atribut yang mendeskripsikan sebuah remote API yang ingin kita deskripsikan.</p>

<h1 id="kenapa-kita-perlu-menggunakan-open-api">Kenapa kita perlu menggunakan Open API?</h1>

<p><img src="https://imgs.xkcd.com/comics/api.png" alt="img" /></p>

<p>Inti dari kenapa kita perlu menggunakan Open API adalah komunikasi, entah terhadap komputer, maupun sesama developer.</p>

<h2 id="perencanaan-api-akan-jauh-lebih-baik">Perencanaan API akan jauh lebih baik</h2>

<p><img src="/assets/images/2021/12/01/CLUELESS.png" alt="img" /></p>

<p>Mungkin bisa direfleksikan dari proses kalian mengerjakan challenge-challenge sebelumnya, mungkin kalian akan <em>clueless</em> ketika ingin membuat sebuah API. Nah, dengan membuat Open API Documentation-nya terlebih dahulu, proses pembuatan remote API (RESTful API) kalian akan jauh lebih terencana.</p>

<h2 id="codegen-mempermudah-pengembangan-client-side-application">Codegen mempermudah pengembangan <em>client side application</em></h2>

<p><img src="/assets/images/2021/12/01/YES-HONEY.png" alt="img" /></p>

<p><em>API Contract</em>, meskipun janjinya tidak akan merusak implementasi yang sudah ada di <em>Client Side</em> namun pada kenyataannya sering terjadi. Janji supaya perubahan tidak akan merusak implementasi yang sudah ada, atau <em>backward compatibility</em> dari sebuah API di iklim startup sepertinya hanyalah distopia belaka. Nah maka dari itu, kita bisa gunakan Open API untuk membuat SDK secara otomatis dengan Codegen, dimana ketika ada perubahan kontrak di API, frontend developer (consumer) tidak perlu repot-repot mengimplementasi ulang cara <em>request</em> ke API kita, mereka tinggal <em>generate</em> ulang SDK tersebut, dan menyesuaikan cara penggunaannya di <em>Client Side Application (/Consumer)</em></p>

<blockquote>
  <p>Things break and they break often</p>
</blockquote>

<h2 id="mock-api-akan-mempercepat-pengembangan-aplikasi-kita">Mock API akan mempercepat pengembangan aplikasi kita</h2>

<p><img src="/assets/CONVENTIONAL-DEVELOPMENT-LIFECYCLE.png" alt="img" /></p>

<p>Diagram diatas menunjukkan bagaimana software development lifecycle ketika kita tidak menggunakan Open API Documentation dan sebuah Mock API. Integrasi aplikasi frontend ke aplikasi backend, akan sangat bergantung pada ketersediaannya API dari aplikasi backend terlebih dahulu. Artinya, frontend developer tidak bisa meneruskan pekerjaannya sampai aplikasi backend sudah siap untuk dipakai. Ini menyebabkan frontend development <strong>sangat dependen</strong> dengan suksesnya backend development.</p>

<p>Untungnya, problem ketergantungan tersebut sudah dipecahkan dengan adanya Open API Documentation, kenapa? Karena kita bisa membuat kode dengan <em>codegen</em> untuk membuat sebuah aplikasi backend yang sudah mengimplementasikan API yang sudah didefinisikan pada dokumen Open API. Aplikasi ini biasa disebut sebagai Mock API.</p>

<p><img src="/assets/images/2021/12/01/COOLER-DEVELOPMENT-LIFECYCLE.png" alt="img" /></p>

<p>Selagi aplikasi frontend menggunakan Mock API dari backend, maka backend developer sedang membuat implementasi dari API tersebut, dan berjanji tidak akan membuatnya berbeda dari Mock API dari segi interface-nya (cara pakai). Maka dari itu, ketika aplikasi backend sudah siap untuk dikonsumsi, aplikasi frontend tinggal mengganti server URL yang akan mereka gunakan untuk memanggil API, dari yang awalnya server URL ke Mock API, menjadi server URL ke Backend API yang sebenarnya. Hal ini tentu saja akan mempercepat proses pengembangan aplikasi, karena frontend development tidak lagi dependen dengan siap tidaknya aplikasi backend yang sesungguhnya. Dan, sebagai backend developer, juga akan mendapatkan feedback lebih cepat dari sisi Interface-nya (Cara pakai, dan skema dari response-nya).</p>

<h1 id="open-api-specification">Open API Specification</h1>

<p>Oke, cukup ngomongin pendahuluannya, sekarang kita langsung bahas saja, apa sih yang membuat Open API itu <strong>Open API</strong>? Yang pertama adalah aturannya. Aturan dalam apa? Dalam mendeskripsikan sebuah remote API. Artinya, ketika kita ingin membuat deskripsi tentang sebuah remote API, ada kaidah-kaidah yang wajib kita ikuti di dalam menulis dokumennya.</p>

<p>Karena dokumen Open API ini berwujud <code class="language-plaintext highlighter-rouge">json</code> atau <code class="language-plaintext highlighter-rouge">yaml</code>, pastinya deskripsi dari remote API kita nanti akan berbentuk <em>object</em>, yang memiliki atribut-atribut yang berkaitan dengan remote API. Apa saja sih atributnya? Dan struktur data dari <em>object</em> tersebut nantinya akan seperti apa sih? Mari kita simak bagian-bagian selanjutnya.</p>

<blockquote>
  <p>Dokumen dibawah ini akan selalu berdasarkan Open API Specification versi 3.0.0, jika referensi ke versi 2.0.0 dibutuhkan, silahkan buka tautan berikut: <a href="https://swagger.io/specification/v2/">https://swagger.io/specification/v2/</a></p>
</blockquote>

<h2 id="structure-of-open-api-document">Structure of Open API Document</h2>

<p>Seperti yang sudah disebutkan pada bagian sebelumnya, dokumen Open API ini kan bermaksud agar bisa dibaca oleh mesin, maka dari itu, kita perlu menyimpan dokumen ini dalam bentuk yang dikenali mesin, yaitu dalam bentuk <code class="language-plaintext highlighter-rouge">JSON</code> dan <code class="language-plaintext highlighter-rouge">YAML</code>. Karena bentuknya <code class="language-plaintext highlighter-rouge">JSON</code> atau <code class="language-plaintext highlighter-rouge">YAML</code>, maka dari itu pastinya data yang kita simpan pada file tersebut akan berupa sebuah <em>object</em>, struktur dari <em>object</em> tersebut merepresentasikan atau mendeskripsikan remote API kita, mulai dari apa sih nama remote API kita, siapa maintainernya, lisensinya apa dan sebagainya.</p>

<h3 id="syntax-dari-dokumen-open-api">Syntax dari dokumen Open API</h3>

<p>Seperti yang sudah disebutkan diatas, dokumen ini ditulis menggunakan <code class="language-plaintext highlighter-rouge">YAML</code> atau <code class="language-plaintext highlighter-rouge">JSON</code>, berikut contoh kode <code class="language-plaintext highlighter-rouge">YAML</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Anything after a hash sign is a comment</span>
<span class="na">anObject</span><span class="pi">:</span>
  <span class="na">aNumber</span><span class="pi">:</span> <span class="m">42</span>
  <span class="na">aString</span><span class="pi">:</span> <span class="s">This is a string</span>
  <span class="na">aBoolean</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">nothing</span><span class="pi">:</span> <span class="no">null</span>
  <span class="na">arrayOfNumbers</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="m">1</span>
    <span class="pi">-</span> <span class="m">2</span>
    <span class="pi">-</span> <span class="m">3</span>
</code></pre></div></div>

<p>Dan berikut contoh kode <code class="language-plaintext highlighter-rouge">JSON</code>:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"anObject"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"aNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nl">"aString"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"aBoolean"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nothing"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"arrayOfNumbers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="mi">3</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Pilihlah salah satu tipe dokumen ketika menulis dokumentasi menggunakan Open API, tapi yang sangat dianjurkan adalah dengan menggunakan <code class="language-plaintext highlighter-rouge">YAML</code>, karena lebih manusiawi untuk dibaca.</p>

<h3 id="the-open-api-object">The Open API Object</h3>

<p><em>Root object</em> atau <em>object</em> dengan level tertinggi di dalam dokumen ini kita sebut dengan <em>Open API Object</em>, dimana <em>object</em> ini mendefinisikan metadata dari remote API yang ingin kita dokumentasikan. Object ini terdiri dari beberapa atribut berikut:</p>

<p><img src="/assets/images/2021/12/01/OPEN-API-OBJECT.png" alt="img" /></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">openapi</code> dipakai untuk memberi tau, kita ingin menggunakan spesifikasi versi keberapa dari Open API Specification.</li>
  <li><code class="language-plaintext highlighter-rouge">info</code> adalah sebuah <em>object</em> yang berisi informasi terkait API yang dideskripsikan, berisi siapa author-nya, nama api-nya apa dan sebagainya.</li>
  <li><code class="language-plaintext highlighter-rouge">paths</code> adalah sebuah <em>object</em> yang digunakan untuk mendeskripsikan semua rute yang ada di dalam API yang dideskripsikan.</li>
</ul>

<p>Berikut contoh dokumentasi minimal yang ditulis menggunakan <code class="language-plaintext highlighter-rouge">YAML</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span> <span class="pi">{}</span> <span class="c1"># No endpoints defined</span>
</code></pre></div></div>

<p>Dokumen tersebut sudah valid, namun tidak memberi tahu kita lebih tentang apa saja yang API yang disediakan, dan bagaimana cara memanggilnya. Maka dari itu kita perlu mendefinisikan operasi apa saja yang dapat dilakukan, yang mana akan kita bahas pada bagian berikutnya.</p>

<h2 id="api-endpoints">API Endpoints</h2>

<p>Dokumentasi API tidak akan berguna kalau di dalam dokumentasi tersebut tidak terdapat daftar operasi yang dapat dilakukan (endpoint). API Endpoint atau biasa disebut sebagai <em>route</em> atau <em>operation</em> disebut sebagai <strong>Paths</strong> di dalam OAS (Open API Specification), maka dari itu, untuk mendefinisikan sebuah endpoint, kita akan menulisnya dibawah <em>object</em> bernama <code class="language-plaintext highlighter-rouge">paths</code>.</p>

<p><img src="/assets/images/2021/12/01/OPEN-API-OBJECT-TO-RESPONSE-OBJECT.png" alt="img" /></p>

<h3 id="the-paths-object">The Paths Object</h3>

<p><code class="language-plaintext highlighter-rouge">paths</code> adalah sebuah atribute dengan tipe data <code class="language-plaintext highlighter-rouge">object</code>, dimana tiap atribut dari <em>object</em> tersebut adalah sebuah string yang menandakan sebuah endpoint dari suatu API. Maka dari tiap atribut dari <code class="language-plaintext highlighter-rouge">paths</code> harus dimulai dengan <code class="language-plaintext highlighter-rouge">/</code> sebagai prefiks dari endpoint.</p>

<p>Berikut adalah contoh Open API Object dengan <code class="language-plaintext highlighter-rouge">paths</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span> <span class="pi">{}</span> <span class="c1"># We can conclude that this API has path named /posts</span>
  <span class="s">/posts/{id}</span><span class="err">:</span> <span class="pi">{}</span> <span class="c1"># Path with path parameter</span>
</code></pre></div></div>

<p>Pada setiap atribut di dalam <code class="language-plaintext highlighter-rouge">paths</code> adalah sebuah <code class="language-plaintext highlighter-rouge">PathItemObject</code>, dimana di dalam atribut tersebut, adalah sebuah <em>object</em> yang mana atribut-atributnya adalah sebuah metode HTTP, baik itu <code class="language-plaintext highlighter-rouge">GET</code>, <code class="language-plaintext highlighter-rouge">POST</code>, <code class="language-plaintext highlighter-rouge">PUT</code>, maupun <code class="language-plaintext highlighter-rouge">DELETE</code>.</p>

<p>Penjelasan terkait <code class="language-plaintext highlighter-rouge">PathItemObject</code> ini akan dibahas pada bagian berikutnya.</p>

<h3 id="the-path-item-object">The Path Item Object</h3>

<p><code class="language-plaintext highlighter-rouge">PathItemObject</code> adalah sebuah <em>object</em> yang berada pada sebuah atribut dari <em>object</em> <code class="language-plaintext highlighter-rouge">paths</code>, atribut dari <em>object</em> ini adalah metode HTTP, baik itu <code class="language-plaintext highlighter-rouge">GET</code>, <code class="language-plaintext highlighter-rouge">POST</code>, <code class="language-plaintext highlighter-rouge">PUT</code>, <code class="language-plaintext highlighter-rouge">PATCH</code>, maupun <code class="language-plaintext highlighter-rouge">DELETE</code>. Tiap atribut itulah yang menandakan adanya operasi di dalam sebuah API kita.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span>
    <span class="na">get</span><span class="pi">:</span> <span class="pi">{}</span>
    <span class="na">post</span><span class="pi">:</span> <span class="pi">{}</span>
  <span class="s">/posts/{id}</span><span class="err">:</span>
    <span class="na">get</span><span class="pi">:</span> <span class="pi">{}</span>
    <span class="na">put</span><span class="pi">:</span> <span class="pi">{}</span>
    <span class="na">delete</span><span class="pi">:</span> <span class="pi">{}</span>
</code></pre></div></div>

<p>Dari dokumen diatas, dapat kita simpulkan bahwa <em>Medium Blogging API</em> memiliki dua <em>path</em> yaitu <code class="language-plaintext highlighter-rouge">/posts</code> dan <code class="language-plaintext highlighter-rouge">/posts/{id}</code>, dimana, <code class="language-plaintext highlighter-rouge">/posts</code>, memiliki 2 operasi, yaitu <code class="language-plaintext highlighter-rouge">GET</code>, dan <code class="language-plaintext highlighter-rouge">POST</code>, dan untuk <code class="language-plaintext highlighter-rouge">/posts/{id}</code>, memiliki 3 operasi, yaitu <code class="language-plaintext highlighter-rouge">DELETE</code>, <code class="language-plaintext highlighter-rouge">PUT</code>, dan <code class="language-plaintext highlighter-rouge">GET</code>. Dokumen diatas masih <strong>belum valid</strong>, karena tiap operasi wajib berisi <code class="language-plaintext highlighter-rouge">OperationObject</code>, yang mana memiliki beberapa atribut yang wajib ada, seperti <code class="language-plaintext highlighter-rouge">responses</code> dan sebagainya.</p>

<h2 id="response-body-message">Response Body Message</h2>

<p>Setiap operasi wajib mendeskripsikan hasil dari operasi tersebut, baik itu berupa <em>No Content</em> maupun ada konten. Untuk mendeskripsikan sebuah <em>response</em> dari sebuah operasi, kita perlu menambahkan atribut bernama <code class="language-plaintext highlighter-rouge">responses</code> ke dalam <code class="language-plaintext highlighter-rouge">OperationObject</code>, dimana <code class="language-plaintext highlighter-rouge">OperationObject</code> ini berada di dalam <code class="language-plaintext highlighter-rouge">PathItemObject</code>.</p>

<h3 id="the-responses-object">The Responses Object</h3>

<p>Setiap operasi tentunya memiliki beberapa jenis <em>response</em>, seperti <code class="language-plaintext highlighter-rouge">422</code>, <code class="language-plaintext highlighter-rouge">400</code>, <code class="language-plaintext highlighter-rouge">500</code> atau <code class="language-plaintext highlighter-rouge">200</code>, semua <em>response</em> tentu dibedakan berdasarkan <em>HTTP Status Code</em>-nya, maka dari itu pada OAS, setiap operasi wajib mencantumkan setidaknya 1 jenis <em>response</em> menggunakan <em>HTTP Status Code</em> yang ditulis di dalam sebuah string sebagai nama atribut.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span>
    <span class="na">get</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span> <span class="pi">{}</span>
    <span class="na">post</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">201"</span><span class="err">:</span> <span class="pi">{}</span>
        <span class="s2">"</span><span class="s">400"</span><span class="err">:</span> <span class="pi">{}</span>
        <span class="s2">"</span><span class="s">401"</span><span class="err">:</span> <span class="pi">{}</span>
        <span class="s2">"</span><span class="s">422"</span><span class="err">:</span> <span class="pi">{}</span>
        <span class="s2">"</span><span class="s">500"</span><span class="err">:</span> <span class="pi">{}</span>
  <span class="s">/posts/{id}</span><span class="err">:</span>
    <span class="na">get</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span> <span class="pi">{}</span>
        <span class="s2">"</span><span class="s">403"</span><span class="err">:</span> <span class="pi">{}</span>
        <span class="s2">"</span><span class="s">404"</span><span class="err">:</span> <span class="pi">{}</span>
    <span class="na">put</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span> <span class="pi">{}</span>
        <span class="s2">"</span><span class="s">400"</span><span class="err">:</span> <span class="pi">{}</span>
        <span class="s2">"</span><span class="s">403"</span><span class="err">:</span> <span class="pi">{}</span>
        <span class="s2">"</span><span class="s">404"</span><span class="err">:</span> <span class="pi">{}</span>
        <span class="s2">"</span><span class="s">422"</span><span class="err">:</span> <span class="pi">{}</span>
    <span class="na">delete</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">204"</span><span class="err">:</span> <span class="pi">{}</span>
        <span class="s2">"</span><span class="s">403"</span><span class="err">:</span> <span class="pi">{}</span>
        <span class="s2">"</span><span class="s">404"</span><span class="err">:</span> <span class="pi">{}</span>
</code></pre></div></div>

<p>Dokumen diatas masih <strong>belum valid</strong>, karena tiap atribut di dalam <code class="language-plaintext highlighter-rouge">ResponsesObject</code>, wajib memiliki atribut yang bernama <code class="language-plaintext highlighter-rouge">description</code>, yang mana akan kita bahas pada bagian berikutnya.</p>

<h3 id="the-response-object">The Response Object</h3>

<p><code class="language-plaintext highlighter-rouge">ResponseObject</code> adalah sebuah <em>object</em> yang digunakan dalam OAS untuk mendefinisikan seperti apa sih <em>response</em> dari sebuah operasi yang kita jalankan. <em>Object</em> ini memiliki atribut yang wajib ada di dalamnya, yaitu <code class="language-plaintext highlighter-rouge">description</code>, yang mana hanyalah deskripsi dari sebuah <em>response</em>, namun tidak menutup kemungkinan juga kita akan menambahkan skema dari <em>response body</em> dari sebuah operasi.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span>
    <span class="na">get</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">List of post is retrieved</span>
    <span class="na">post</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">201"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">New post is created</span>
        <span class="s2">"</span><span class="s">400"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post due to invalid request body schema</span>
        <span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post without authorized access</span>
        <span class="s2">"</span><span class="s">422"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post due to invalid request body value</span>
        <span class="s2">"</span><span class="s">500"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post because of an error on the server</span>
  <span class="s">/posts/{id}</span><span class="err">:</span>
    <span class="na">get</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post with specific id is retrieved</span>
        <span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot retrieve post with specific id with current access</span>
        <span class="s2">"</span><span class="s">404"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post does not found</span>
    <span class="na">put</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post with specific id is updated</span>
        <span class="s2">"</span><span class="s">400"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post due to invalid request body schema</span>
        <span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post without authorized access</span>
        <span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post with current access</span>
        <span class="s2">"</span><span class="s">404"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post does not found</span>
        <span class="s2">"</span><span class="s">422"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post due to invalid request body value</span>
        <span class="s2">"</span><span class="s">500"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post because of an error on the server</span>
    <span class="na">delete</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">204"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post with specific id is deleted</span>
        <span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot delete post with current access</span>
        <span class="s2">"</span><span class="s">404"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post does not found</span>
</code></pre></div></div>

<p>Dokumen diatas masih <strong>belum valid</strong>, karena pada <em>path</em> <code class="language-plaintext highlighter-rouge">/paths/{id}</code>, terdapat <em>path parameter</em>, yang wajib kita deskripsikan di tiap operasi dibawahnya, namun kita kita menghiraukan <code class="language-plaintext highlighter-rouge">/paths/{id}</code>, maka dokumen ini sudah valid, dengan catatan, kita belom mendeskripsikan, wujud dari <em>response body</em> dari tiap operasi, dan wujud dari <em>request body</em> dari tiap operasi yang membutuhkannya.</p>

<p><img src="/assets/images/2021/12/01/RESPONSE-OBJECT.png" alt="img" /></p>

<h4 id="the-media-object">The Media Object</h4>

<p><code class="language-plaintext highlighter-rouge">MediaObject</code> adalah sebuah <em>object</em> yang memiliki atribut yang nama dari atribut tersebut adalah sebuah <code class="language-plaintext highlighter-rouge">Content-Type</code> dari sebuah <em>response</em>, berikut adalah contoh daftar <code class="language-plaintext highlighter-rouge">Content-Type</code> yang merupakan nama atribut dari <code class="language-plaintext highlighter-rouge">MediaObject</code>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">application/json</code></li>
  <li><code class="language-plaintext highlighter-rouge">application/xml</code></li>
  <li><code class="language-plaintext highlighter-rouge">text/html</code></li>
  <li><code class="language-plaintext highlighter-rouge">text/plain</code></li>
</ul>

<p>Atribut-atribut tersebut memiliki nilai yang berupa <code class="language-plaintext highlighter-rouge">MediaTypeObject</code>.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span>
    <span class="na">get</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">List of post is retrieved</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
    <span class="na">post</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">201"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">New post is created</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">400"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post due to invalid request body schema</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post without authorized access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">422"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post due to invalid request body value</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">500"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post because of an error on the server</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
  <span class="s">/posts/{id}</span><span class="err">:</span>
    <span class="na">get</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post with specific id is retrieved</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot retrieve post with specific id with current access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">404"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post does not found</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
    <span class="na">put</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post with specific id is updated</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">400"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post due to invalid request body schema</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post without authorized access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post with current access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">404"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post does not found</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">422"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post due to invalid request body value</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">500"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post because of an error on the server</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
    <span class="na">delete</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">204"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post with specific id is deleted</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot delete post with current access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">404"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post does not found</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span> <span class="pi">{}</span>
</code></pre></div></div>

<h4 id="the-media-type-object">The Media Type Object</h4>

<p><code class="language-plaintext highlighter-rouge">MediaTypeObject</code> adalah sebuah <em>object</em> yang mendefinisikan bentuk <code class="language-plaintext highlighter-rouge">response</code>-nya nanti seperti apa, <em>object</em> ini memiliki atribut-atribut sebagai berikut:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">schema</code> yang berisi definisi data, atribut ini wajib ada ketika kita membuat sebuah <code class="language-plaintext highlighter-rouge">MediaTypeObject</code></li>
  <li><code class="language-plaintext highlighter-rouge">example</code> yang berisi data</li>
  <li><code class="language-plaintext highlighter-rouge">examples</code> yang berisi data jika bentuk datanya berupa <em>array</em></li>
  <li><code class="language-plaintext highlighter-rouge">encoding</code> yang berisi encoding dari data tersebut</li>
</ul>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span>
    <span class="na">get</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">List of post is retrieved</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
    <span class="na">post</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">201"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">New post is created</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">400"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post due to invalid request body schema</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post without authorized access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">422"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post due to invalid request body value</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">500"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post because of an error on the server</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
  <span class="s">/posts/{id}</span><span class="err">:</span>
    <span class="na">get</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post with specific id is retrieved</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot retrieve post with specific id with current access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">404"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post does not found</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
    <span class="na">put</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post with specific id is updated</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">400"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post due to invalid request body schema</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post without authorized access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post with current access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">404"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post does not found</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">422"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post due to invalid request body value</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">500"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post because of an error on the server</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
    <span class="na">delete</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">204"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post with specific id is deleted</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot delete post with current access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">404"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post does not found</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span> <span class="pi">{}</span>
</code></pre></div></div>

<p>Atribut schema adalah sebuah <code class="language-plaintext highlighter-rouge">SchemaObject</code>, yang mana atribut ini digunakan untuk mendefinisikan sebuah bentuk data dari sebuah <em>response</em>.</p>

<h4 id="the-schema-object">The Schema Object</h4>

<p><code class="language-plaintext highlighter-rouge">SchemaObject</code> adalah sebuah object yang mana dibuat berdasarkan <a href="https://json-schema.org/">JSON Schema</a>, yang mana digunakan untuk mendefinisikan bagaimana bentuk data dari sebuah <em>object</em>. Karena atribut ini <em>compatible</em> dengan <em>JSON Schema</em>, maka dari itu, ketika kita mendefinisikan sebuah skema di dalam Open API Documentation, kita bisa pasang beberapa tools yang dapat memvalidasi sebuah <em>object</em> (parameter) apakah sudah sesuai dengan skema atau belum.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span>
    <span class="na">get</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">List of post is retrieved</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">OK"</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">array</span>
                    <span class="na">items</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                        <span class="na">properties</span><span class="pi">:</span>
                            <span class="na">id</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bdaf6814-2e99-40d5-9c15-e0238a90c886"</span>
                            <span class="na">title</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
                            <span class="na">body</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                                    <span class="s">Lorem ipsum dolor sit amet,</span>
                                    <span class="s">consectetur adipiscing elit.</span>
                                    <span class="s">Nullam quis tristique dolor.</span>
                                    <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                                    <span class="s">dictum nulla quis, vehicula urna.</span>
                                    <span class="s">Suspendisse dictum neque sapien,</span>
                                    <span class="s">mollis semper quam tincidunt sit amet.</span>
                                    <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                                    <span class="s">nisi libero ullamcorper mi,</span>
                                    <span class="s">id consectetur enim arcu eget turpis.</span>
                                    <span class="s">Fusce urna diam, elementum a diam non,</span>
                                    <span class="s">efficitur tempus eros.</span>
                                    <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                                    <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                                    <span class="s">in gravida eros malesuada.</span>
                                    <span class="s">Quisque vel turpis sed elit</span>
                                    <span class="s">finibus luctus et sed leo.</span>
                                    <span class="s">Etiam porta metus purus,</span>
                                    <span class="s">in vulputate est accumsan a.</span>
                                    <span class="s">Aenean pulvinar aliquam nunc,</span>
                                    <span class="s">vel pharetra diam sodales in.</span>
                            <span class="na">authorId</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">196508c4-495f-4d2e-898b-776fb3c1e8b4"</span>
                            <span class="na">authorName</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Ted</span><span class="nv"> </span><span class="s">Kaczynski"</span>
                            <span class="na">authorAvatar</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://placekitten.com/200/200"</span>
                            <span class="na">createdAt</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
                            <span class="na">updatedAt</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
    <span class="na">post</span><span class="pi">:</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">201"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">New post is created</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">OK"</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                        <span class="na">id</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bdaf6814-2e99-40d5-9c15-e0238a90c886"</span>
                        <span class="na">title</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
                        <span class="na">body</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                                <span class="s">Lorem ipsum dolor sit amet,</span>
                                <span class="s">consectetur adipiscing elit.</span>
                                <span class="s">Nullam quis tristique dolor.</span>
                                <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                                <span class="s">dictum nulla quis, vehicula urna.</span>
                                <span class="s">Suspendisse dictum neque sapien,</span>
                                <span class="s">mollis semper quam tincidunt sit amet.</span>
                                <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                                <span class="s">nisi libero ullamcorper mi,</span>
                                <span class="s">id consectetur enim arcu eget turpis.</span>
                                <span class="s">Fusce urna diam, elementum a diam non,</span>
                                <span class="s">efficitur tempus eros.</span>
                                <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                                <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                                <span class="s">in gravida eros malesuada.</span>
                                <span class="s">Quisque vel turpis sed elit</span>
                                <span class="s">finibus luctus et sed leo.</span>
                                <span class="s">Etiam porta metus purus,</span>
                                <span class="s">in vulputate est accumsan a.</span>
                                <span class="s">Aenean pulvinar aliquam nunc,</span>
                                <span class="s">vel pharetra diam sodales in.</span>
                        <span class="na">authorId</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">196508c4-495f-4d2e-898b-776fb3c1e8b4"</span>
                        <span class="na">authorName</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Ted</span><span class="nv"> </span><span class="s">Kaczynski"</span>
                        <span class="na">authorAvatar</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://placekitten.com/200/200"</span>
                        <span class="na">createdAt</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
                        <span class="na">updatedAt</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">400"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post due to invalid request body schema</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                    <span class="na">status</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">FAIL"</span>
                    <span class="na">data</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                        <span class="na">properties</span><span class="pi">:</span>
                            <span class="na">name</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">BAD_REQUEST"</span>
                            <span class="na">message</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Missing</span><span class="nv"> </span><span class="s">field"</span>
                            <span class="na">payload</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                                <span class="na">properties</span><span class="pi">:</span>
                                    <span class="na">params</span><span class="pi">:</span>
                                        <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                                        <span class="na">properties</span><span class="pi">:</span>
                                            <span class="na">title</span><span class="pi">:</span>
                                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">is</span><span class="nv"> </span><span class="s">required"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post without authorized access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                    <span class="na">status</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">FAIL"</span>
                    <span class="na">data</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                        <span class="na">properties</span><span class="pi">:</span>
                            <span class="na">name</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">UNAUTHORIZED"</span>
                            <span class="na">message</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Access</span><span class="nv"> </span><span class="s">token</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">invalid"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">422"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post due to invalid request body value</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                    <span class="na">status</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">FAIL"</span>
                    <span class="na">data</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                        <span class="na">properties</span><span class="pi">:</span>
                            <span class="na">name</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">UNPROCESSABLE_ENTITY"</span>
                            <span class="na">message</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Field</span><span class="nv"> </span><span class="s">has</span><span class="nv"> </span><span class="s">invalid</span><span class="nv"> </span><span class="s">value"</span>
                            <span class="na">payload</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                                <span class="na">properties</span><span class="pi">:</span>
                                    <span class="na">title</span><span class="pi">:</span>
                                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">max</span><span class="nv"> </span><span class="s">32</span><span class="nv"> </span><span class="s">character"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">500"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post because of an error on the server</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                    <span class="na">status</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ERROR"</span>
                    <span class="na">data</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                        <span class="na">properties</span><span class="pi">:</span>
                            <span class="na">name</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">INTERNAL_SERVER_ERROR"</span>
                            <span class="na">message</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Something</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">error"</span>
                            <span class="na">stack</span><span class="pi">:</span>
                                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">app/controllers/postController.js:64"</span>
</code></pre></div></div>

<p>Dokumen diatas <strong>sudah valid</strong>, namun kita masih perlu menambahkan bagaimana cara melakukan <em>request</em> yang baik dan benar yang mana hal ini akan dibahas pada bagian berikutnya.</p>

<h2 id="request-body-and-parameter">Request Body and Parameter</h2>

<p>Setiap kita menjalankan suatu operasi, tentunya ada beberapa operasi yang memerlukan input dari yang meminta operasi tersebut dijalankan, layaknya sebuah <em>function</em> di dalam sebuah program, ketika kita memanggil sebuah <em>function</em> terkadang <em>function</em> tersebut meminta beberapa parameter. Begitu juga dengan sebuah API, setiap operasi di API, terkadang perlu parameter yang harus dikirim oleh <em>consumer</em> dari API tersebut.</p>

<h3 id="the-parameter-object">The Parameter Object</h3>

<p><em>Parameter object</em> adalah sebuah <em>object</em> yang kita gunakan untuk mendefinisikan parameter yang dapat kita kirim pada sebuah operasi. Biasanya, <em>object</em> ini digunakan untuk mendefinisikan <em>path parameter</em> dan <em>query parameter</em> jika dalam sebuah endpoint membutuhkan kedua jenis parameter tersebut.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span>
    <span class="na">get</span><span class="pi">:</span>
      <span class="na">parameters</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">in</span><span class="pi">:</span> <span class="s">query</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">status</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">The status of Posts</span>
          <span class="na">required</span><span class="pi">:</span> <span class="no">false</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">enum</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="s">DRAFT</span>
                <span class="pi">-</span> <span class="s">PUBLISHED</span>
        <span class="pi">-</span> <span class="na">in</span><span class="pi">:</span> <span class="s">query</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">page</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">The page of list of posts</span>
          <span class="na">required</span><span class="pi">:</span> <span class="no">false</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">integer</span>
            <span class="na">example</span><span class="pi">:</span> <span class="m">1</span>
        <span class="pi">-</span> <span class="na">in</span><span class="pi">:</span> <span class="s">query</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">per_page</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">How much post will be listed on each page</span>
          <span class="na">required</span><span class="pi">:</span> <span class="no">false</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">integer</span>
            <span class="na">example</span><span class="pi">:</span> <span class="m">10</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">List of post is retrieved</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">OK"</span>
                  <span class="na">meta</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                      <span class="na">page</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">number</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="m">1</span>
                      <span class="na">per_page</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">number</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="m">10</span>
                      <span class="na">total</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">number</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="m">100000</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                      <span class="na">posts</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">array</span>
                        <span class="na">items</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                            <span class="na">properties</span><span class="pi">:</span>
                                <span class="na">id</span><span class="pi">:</span>
                                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bdaf6814-2e99-40d5-9c15-e0238a90c886"</span>
                                <span class="na">title</span><span class="pi">:</span>
                                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                    <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
                                <span class="na">body</span><span class="pi">:</span>
                                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                    <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                                        <span class="s">Lorem ipsum dolor sit amet,</span>
                                        <span class="s">consectetur adipiscing elit.</span>
                                        <span class="s">Nullam quis tristique dolor.</span>
                                        <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                                        <span class="s">dictum nulla quis, vehicula urna.</span>
                                        <span class="s">Suspendisse dictum neque sapien,</span>
                                        <span class="s">mollis semper quam tincidunt sit amet.</span>
                                        <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                                        <span class="s">nisi libero ullamcorper mi,</span>
                                        <span class="s">id consectetur enim arcu eget turpis.</span>
                                        <span class="s">Fusce urna diam, elementum a diam non,</span>
                                        <span class="s">efficitur tempus eros.</span>
                                        <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                                        <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                                        <span class="s">in gravida eros malesuada.</span>
                                        <span class="s">Quisque vel turpis sed elit</span>
                                        <span class="s">finibus luctus et sed leo.</span>
                                        <span class="s">Etiam porta metus purus,</span>
                                        <span class="s">in vulputate est accumsan a.</span>
                                        <span class="s">Aenean pulvinar aliquam nunc,</span>
                                        <span class="s">vel pharetra diam sodales in.</span>
                                <span class="na">authorId</span><span class="pi">:</span>
                                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">196508c4-495f-4d2e-898b-776fb3c1e8b4"</span>
                                <span class="na">authorName</span><span class="pi">:</span>
                                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Ted</span><span class="nv"> </span><span class="s">Kaczynski"</span>
                                <span class="na">authorAvatar</span><span class="pi">:</span>
                                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://placekitten.com/200/200"</span>
                                <span class="na">createdAt</span><span class="pi">:</span>
                                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
                                <span class="na">updatedAt</span><span class="pi">:</span>
                                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
  <span class="s">/posts/{id}</span><span class="err">:</span>
    <span class="na">get</span><span class="pi">:</span>
      <span class="na">parameters</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">in</span><span class="pi">:</span> <span class="s">path</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">id</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">The status of Posts</span>
          <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post with specific id is retrieved</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">OK"</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>

                      <span class="na">id</span><span class="pi">:</span>
                          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                          <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bdaf6814-2e99-40d5-9c15-e0238a90c886"</span>
                      <span class="na">title</span><span class="pi">:</span>
                          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                          <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
                      <span class="na">body</span><span class="pi">:</span>
                          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                          <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                              <span class="s">Lorem ipsum dolor sit amet,</span>
                              <span class="s">consectetur adipiscing elit.</span>
                              <span class="s">Nullam quis tristique dolor.</span>
                              <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                              <span class="s">dictum nulla quis, vehicula urna.</span>
                              <span class="s">Suspendisse dictum neque sapien,</span>
                              <span class="s">mollis semper quam tincidunt sit amet.</span>
                              <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                              <span class="s">nisi libero ullamcorper mi,</span>
                              <span class="s">id consectetur enim arcu eget turpis.</span>
                              <span class="s">Fusce urna diam, elementum a diam non,</span>
                              <span class="s">efficitur tempus eros.</span>
                              <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                              <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                              <span class="s">in gravida eros malesuada.</span>
                              <span class="s">Quisque vel turpis sed elit</span>
                              <span class="s">finibus luctus et sed leo.</span>
                              <span class="s">Etiam porta metus purus,</span>
                              <span class="s">in vulputate est accumsan a.</span>
                              <span class="s">Aenean pulvinar aliquam nunc,</span>
                              <span class="s">vel pharetra diam sodales in.</span>
                      <span class="na">authorId</span><span class="pi">:</span>
                          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                          <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">196508c4-495f-4d2e-898b-776fb3c1e8b4"</span>
                      <span class="na">authorName</span><span class="pi">:</span>
                          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                          <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Ted</span><span class="nv"> </span><span class="s">Kaczynski"</span>
                      <span class="na">authorAvatar</span><span class="pi">:</span>
                          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                          <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://placekitten.com/200/200"</span>
                      <span class="na">createdAt</span><span class="pi">:</span>
                          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                          <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
                      <span class="na">updatedAt</span><span class="pi">:</span>
                          <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                          <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot retrieve post with specific id with current access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">String</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s">FAIL</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                      <span class="na">name</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">FORBIDDEN"</span>
                      <span class="na">message</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Invalid</span><span class="nv"> </span><span class="s">Access</span><span class="nv"> </span><span class="s">Level"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">404"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post does not found</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">name</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">FORBIDDEN"</span>
                  <span class="na">message</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Cannot</span><span class="nv"> </span><span class="s">find</span><span class="nv"> </span><span class="s">post</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">id=1"</span>
</code></pre></div></div>

<h3 id="the-request-body-object">The Request Body Object</h3>

<p>Selain <em>parameters</em>, kita juga dapat mendefinisikan sebuah <em>parameter</em> lain yaitu <em>request body</em>. <em>Request body</em> pastinya hanya akan dipakai di dalam 3 jenis operasi saja, <code class="language-plaintext highlighter-rouge">POST</code>, <code class="language-plaintext highlighter-rouge">PUT</code>, dan <code class="language-plaintext highlighter-rouge">PATCH</code>. <em>Object</em> ini disimpan di dalam atribut yang bernama <code class="language-plaintext highlighter-rouge">requestBody</code> di dalam sebuah <em>Operation Object.</em></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span>
    <span class="na">post</span><span class="pi">:</span>
      <span class="na">requestBody</span><span class="pi">:</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s">Payload for making a Post</span>
        <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">content</span><span class="pi">:</span>
          <span class="na">application/json</span><span class="pi">:</span>
            <span class="na">schema</span><span class="pi">:</span>
              <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
              <span class="na">properties</span><span class="pi">:</span>
                <span class="na">title</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
                <span class="na">body</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                        <span class="s">Lorem ipsum dolor sit amet,</span>
                        <span class="s">consectetur adipiscing elit.</span>
                        <span class="s">Nullam quis tristique dolor.</span>
                        <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                        <span class="s">dictum nulla quis, vehicula urna.</span>
                        <span class="s">Suspendisse dictum neque sapien,</span>
                        <span class="s">mollis semper quam tincidunt sit amet.</span>
                        <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                        <span class="s">nisi libero ullamcorper mi,</span>
                        <span class="s">id consectetur enim arcu eget turpis.</span>
                        <span class="s">Fusce urna diam, elementum a diam non,</span>
                        <span class="s">efficitur tempus eros.</span>
                        <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                        <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                        <span class="s">in gravida eros malesuada.</span>
                        <span class="s">Quisque vel turpis sed elit</span>
                        <span class="s">finibus luctus et sed leo.</span>
                        <span class="s">Etiam porta metus purus,</span>
                        <span class="s">in vulputate est accumsan a.</span>
                        <span class="s">Aenean pulvinar aliquam nunc,</span>
                        <span class="s">vel pharetra diam sodales in.</span>

      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">201"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post is created</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">OK"</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                        <span class="na">id</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bdaf6814-2e99-40d5-9c15-e0238a90c886"</span>
                        <span class="na">title</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
                        <span class="na">body</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                                <span class="s">Lorem ipsum dolor sit amet,</span>
                                <span class="s">consectetur adipiscing elit.</span>
                                <span class="s">Nullam quis tristique dolor.</span>
                                <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                                <span class="s">dictum nulla quis, vehicula urna.</span>
                                <span class="s">Suspendisse dictum neque sapien,</span>
                                <span class="s">mollis semper quam tincidunt sit amet.</span>
                                <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                                <span class="s">nisi libero ullamcorper mi,</span>
                                <span class="s">id consectetur enim arcu eget turpis.</span>
                                <span class="s">Fusce urna diam, elementum a diam non,</span>
                                <span class="s">efficitur tempus eros.</span>
                                <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                                <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                                <span class="s">in gravida eros malesuada.</span>
                                <span class="s">Quisque vel turpis sed elit</span>
                                <span class="s">finibus luctus et sed leo.</span>
                                <span class="s">Etiam porta metus purus,</span>
                                <span class="s">in vulputate est accumsan a.</span>
                                <span class="s">Aenean pulvinar aliquam nunc,</span>
                                <span class="s">vel pharetra diam sodales in.</span>
                        <span class="na">authorId</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">196508c4-495f-4d2e-898b-776fb3c1e8b4"</span>
                        <span class="na">authorName</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Ted</span><span class="nv"> </span><span class="s">Kaczynski"</span>
                        <span class="na">authorAvatar</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://placekitten.com/200/200"</span>
                        <span class="na">createdAt</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
                        <span class="na">updatedAt</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post without a granted access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">String</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s">FAIL</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                      <span class="na">name</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">UNAUTHORIZED"</span>
                      <span class="na">message</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Access</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">not</span><span class="nv"> </span><span class="s">granted"</span>
</code></pre></div></div>

<h2 id="components">Components</h2>

<p>Ada beberapa <em>object</em> yang kita buat berulang-ulang, ketika kita mendefinisikan sebuah <em>Open API documentation</em>. Seperti bentuk <em>response</em>, <em>request body</em>, dan sebagainya. Untuk mengurangi perulangan dalam membuat <em>object</em> yang sama, kita dapat menggunakan <code class="language-plaintext highlighter-rouge">components</code>, dimana <code class="language-plaintext highlighter-rouge">components</code> ini akan diletakkan pada <em>Open API Object</em> dengan atribut bernama <code class="language-plaintext highlighter-rouge">components</code>. Ada 4 jenis <code class="language-plaintext highlighter-rouge">components</code>, yaitu:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">schemas</code></li>
  <li><code class="language-plaintext highlighter-rouge">requestBodies</code></li>
  <li><code class="language-plaintext highlighter-rouge">responses</code></li>
  <li><code class="language-plaintext highlighter-rouge">securitySchemes</code></li>
</ul>

<h3 id="the-schema-object-1">The Schema Object</h3>

<p><em>Schema Object</em> adalah sebuah <em>object</em> yang mana tiap atributnya adalah jenis <em>schema</em> yang dapat kita gunakan ketika kita membutuhkan <em>schema</em> di dalam sebuah <em>operation</em>.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span>
    <span class="na">get</span><span class="pi">:</span>
      <span class="na">parameters</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">in</span><span class="pi">:</span> <span class="s">query</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">status</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">The status of Posts</span>
          <span class="na">required</span><span class="pi">:</span> <span class="no">false</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">enum</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="s">DRAFT</span>
                <span class="pi">-</span> <span class="s">PUBLISHED</span>
        <span class="pi">-</span> <span class="na">in</span><span class="pi">:</span> <span class="s">query</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">page</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">The page of list of posts</span>
          <span class="na">required</span><span class="pi">:</span> <span class="no">false</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">integer</span>
            <span class="na">example</span><span class="pi">:</span> <span class="m">1</span>
        <span class="pi">-</span> <span class="na">in</span><span class="pi">:</span> <span class="s">query</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">per_page</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">How much post will be listed on each page</span>
          <span class="na">required</span><span class="pi">:</span> <span class="no">false</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">integer</span>
            <span class="na">example</span><span class="pi">:</span> <span class="m">10</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">List of post is retrieved</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">OK"</span>
                  <span class="na">meta</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                      <span class="na">page</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">number</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="m">1</span>
                      <span class="na">per_page</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">number</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="m">10</span>
                      <span class="na">total</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">number</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="m">100000</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                      <span class="na">posts</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">array</span>
                        <span class="na">items</span><span class="pi">:</span>
                          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/schemas/Post"</span>
    <span class="na">post</span><span class="pi">:</span>
      <span class="na">requestBody</span><span class="pi">:</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s">Payload for making a Post</span>
        <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">content</span><span class="pi">:</span>
          <span class="na">application/json</span><span class="pi">:</span>
            <span class="na">schema</span><span class="pi">:</span>
              <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
              <span class="na">properties</span><span class="pi">:</span>
                <span class="na">title</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
                <span class="na">body</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                        <span class="s">Lorem ipsum dolor sit amet,</span>
                        <span class="s">consectetur adipiscing elit.</span>
                        <span class="s">Nullam quis tristique dolor.</span>
                        <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                        <span class="s">dictum nulla quis, vehicula urna.</span>
                        <span class="s">Suspendisse dictum neque sapien,</span>
                        <span class="s">mollis semper quam tincidunt sit amet.</span>
                        <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                        <span class="s">nisi libero ullamcorper mi,</span>
                        <span class="s">id consectetur enim arcu eget turpis.</span>
                        <span class="s">Fusce urna diam, elementum a diam non,</span>
                        <span class="s">efficitur tempus eros.</span>
                        <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                        <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                        <span class="s">in gravida eros malesuada.</span>
                        <span class="s">Quisque vel turpis sed elit</span>
                        <span class="s">finibus luctus et sed leo.</span>
                        <span class="s">Etiam porta metus purus,</span>
                        <span class="s">in vulputate est accumsan a.</span>
                        <span class="s">Aenean pulvinar aliquam nunc,</span>
                        <span class="s">vel pharetra diam sodales in.</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">201"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post is created</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">OK"</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/schemas/Post"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post without a granted access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">String</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s">FAIL</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                      <span class="na">name</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">UNAUTHORIZED"</span>
                      <span class="na">message</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Access</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">not</span><span class="nv"> </span><span class="s">granted"</span>
<span class="na">components</span><span class="pi">:</span>
  <span class="na">schemas</span><span class="pi">:</span>
    <span class="na">Post</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
      <span class="na">properties</span><span class="pi">:</span>
        <span class="na">id</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bdaf6814-2e99-40d5-9c15-e0238a90c886"</span>
        <span class="na">title</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
        <span class="na">body</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                <span class="s">Lorem ipsum dolor sit amet,</span>
                <span class="s">consectetur adipiscing elit.</span>
                <span class="s">Nullam quis tristique dolor.</span>
                <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                <span class="s">dictum nulla quis, vehicula urna.</span>
                <span class="s">Suspendisse dictum neque sapien,</span>
                <span class="s">mollis semper quam tincidunt sit amet.</span>
                <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                <span class="s">nisi libero ullamcorper mi,</span>
                <span class="s">id consectetur enim arcu eget turpis.</span>
                <span class="s">Fusce urna diam, elementum a diam non,</span>
                <span class="s">efficitur tempus eros.</span>
                <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                <span class="s">in gravida eros malesuada.</span>
                <span class="s">Quisque vel turpis sed elit</span>
                <span class="s">finibus luctus et sed leo.</span>
                <span class="s">Etiam porta metus purus,</span>
                <span class="s">in vulputate est accumsan a.</span>
                <span class="s">Aenean pulvinar aliquam nunc,</span>
                <span class="s">vel pharetra diam sodales in.</span>
        <span class="na">authorId</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">196508c4-495f-4d2e-898b-776fb3c1e8b4"</span>
        <span class="na">authorName</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Ted</span><span class="nv"> </span><span class="s">Kaczynski"</span>
        <span class="na">authorAvatar</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://placekitten.com/200/200"</span>
        <span class="na">createdAt</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
        <span class="na">updatedAt</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
</code></pre></div></div>

<p>Dokumen diatas, sudah menggunakan <code class="language-plaintext highlighter-rouge">#/components/schemas/Post</code>, untuk mendefinisikan skema dari <code class="language-plaintext highlighter-rouge">array</code> di dalam</p>

<h3 id="the-request-bodies-object">The Request Bodies Object</h3>

<p><em>Request Bodies Object</em> adalah sebuah <em>object</em> yang digunakan untuk mendefinisikan sebuah <em>request body</em> yang dapat kita panggil pada sebuah operasi. <em>Request Bodies</em> juga dapat menggunakan <code class="language-plaintext highlighter-rouge">schemas</code>.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span>
    <span class="na">post</span><span class="pi">:</span>
      <span class="na">requestBody</span><span class="pi">:</span>
        <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/requestBodies/PostRequest"</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">201"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post is created</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">OK"</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/schemas/Post"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot create post without a granted access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s">FAIL</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                      <span class="na">name</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">UNAUTHORIZED"</span>
                      <span class="na">message</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Access</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">not</span><span class="nv"> </span><span class="s">granted"</span>
  <span class="s">/posts/{id}</span><span class="err">:</span>
    <span class="na">put</span><span class="pi">:</span>
      <span class="na">parameters</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">in</span><span class="pi">:</span> <span class="s">path</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">id</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">The id of the Post</span>
          <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">number</span>
            <span class="na">example</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">requestBody</span><span class="pi">:</span>
        <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/requestBodies/PostRequest"</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Post is updated</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">OK"</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/schemas/Post"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post without a granted access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s">FAIL</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                      <span class="na">name</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">UNAUTHORIZED"</span>
                      <span class="na">message</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Access</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">not</span><span class="nv"> </span><span class="s">granted"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">Cannot update post with specific id with current access</span>
          <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
              <span class="na">schema</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">status</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s">FAIL</span>
                  <span class="na">data</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                      <span class="na">name</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">FORBIDDEN"</span>
                      <span class="na">message</span><span class="pi">:</span>
                        <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                        <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Invalid</span><span class="nv"> </span><span class="s">Access</span><span class="nv"> </span><span class="s">Level"</span>
<span class="na">components</span><span class="pi">:</span>
  <span class="na">requestBodies</span><span class="pi">:</span>
    <span class="na">PostRequest</span><span class="pi">:</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s">Payload for making a Post</span>
        <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
                <span class="na">schema</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                        <span class="na">title</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
                        <span class="na">body</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                                <span class="s">Lorem ipsum dolor sit amet,</span>
                                <span class="s">consectetur adipiscing elit.</span>
                                <span class="s">Nullam quis tristique dolor.</span>
                                <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                                <span class="s">dictum nulla quis, vehicula urna.</span>
                                <span class="s">Suspendisse dictum neque sapien,</span>
                                <span class="s">mollis semper quam tincidunt sit amet.</span>
                                <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                                <span class="s">nisi libero ullamcorper mi,</span>
                                <span class="s">id consectetur enim arcu eget turpis.</span>
                                <span class="s">Fusce urna diam, elementum a diam non,</span>
                                <span class="s">efficitur tempus eros.</span>
                                <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                                <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                                <span class="s">in gravida eros malesuada.</span>
                                <span class="s">Quisque vel turpis sed elit</span>
                                <span class="s">finibus luctus et sed leo.</span>
                                <span class="s">Etiam porta metus purus,</span>
                                <span class="s">in vulputate est accumsan a.</span>
                                <span class="s">Aenean pulvinar aliquam nunc,</span>
                                <span class="s">vel pharetra diam sodales in.</span>
  <span class="na">schemas</span><span class="pi">:</span>
    <span class="na">Post</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
      <span class="na">properties</span><span class="pi">:</span>
        <span class="na">id</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bdaf6814-2e99-40d5-9c15-e0238a90c886"</span>
        <span class="na">title</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
        <span class="na">body</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                <span class="s">Lorem ipsum dolor sit amet,</span>
                <span class="s">consectetur adipiscing elit.</span>
                <span class="s">Nullam quis tristique dolor.</span>
                <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                <span class="s">dictum nulla quis, vehicula urna.</span>
                <span class="s">Suspendisse dictum neque sapien,</span>
                <span class="s">mollis semper quam tincidunt sit amet.</span>
                <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                <span class="s">nisi libero ullamcorper mi,</span>
                <span class="s">id consectetur enim arcu eget turpis.</span>
                <span class="s">Fusce urna diam, elementum a diam non,</span>
                <span class="s">efficitur tempus eros.</span>
                <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                <span class="s">in gravida eros malesuada.</span>
                <span class="s">Quisque vel turpis sed elit</span>
                <span class="s">finibus luctus et sed leo.</span>
                <span class="s">Etiam porta metus purus,</span>
                <span class="s">in vulputate est accumsan a.</span>
                <span class="s">Aenean pulvinar aliquam nunc,</span>
                <span class="s">vel pharetra diam sodales in.</span>
        <span class="na">authorId</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">196508c4-495f-4d2e-898b-776fb3c1e8b4"</span>
        <span class="na">authorName</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Ted</span><span class="nv"> </span><span class="s">Kaczynski"</span>
        <span class="na">authorAvatar</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://placekitten.com/200/200"</span>
        <span class="na">createdAt</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
        <span class="na">updatedAt</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
</code></pre></div></div>

<h3 id="the-response-object-1">The Response Object</h3>

<p><em>Response Object</em> adalah sebuah <em>object</em> yang kita gunakan untuk membuat sebuah definisi <em>response</em> dengan berbagai jenis tipe media yang bisa didefinisikan.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span>
    <span class="na">post</span><span class="pi">:</span>
      <span class="na">requestBody</span><span class="pi">:</span>
        <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/requestBodies/PostRequest"</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">201"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/PostResponse"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/UnauthorizedResponse"</span>
  <span class="s">/posts/{id}</span><span class="err">:</span>
    <span class="na">put</span><span class="pi">:</span>
      <span class="na">parameters</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">in</span><span class="pi">:</span> <span class="s">path</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">id</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">The id of the Post</span>
          <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">number</span>
            <span class="na">example</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">requestBody</span><span class="pi">:</span>
        <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/requestBodies/PostRequest"</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/PostResponse"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/UnauthorizedResponse"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/ForbiddenResponse"</span>
<span class="na">components</span><span class="pi">:</span>
  <span class="na">requestBodies</span><span class="pi">:</span>
    <span class="na">PostRequest</span><span class="pi">:</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s">Payload for making a Post</span>
        <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
                <span class="na">schema</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                        <span class="na">title</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
                        <span class="na">body</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                                <span class="s">Lorem ipsum dolor sit amet,</span>
                                <span class="s">consectetur adipiscing elit.</span>
                                <span class="s">Nullam quis tristique dolor.</span>
                                <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                                <span class="s">dictum nulla quis, vehicula urna.</span>
                                <span class="s">Suspendisse dictum neque sapien,</span>
                                <span class="s">mollis semper quam tincidunt sit amet.</span>
                                <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                                <span class="s">nisi libero ullamcorper mi,</span>
                                <span class="s">id consectetur enim arcu eget turpis.</span>
                                <span class="s">Fusce urna diam, elementum a diam non,</span>
                                <span class="s">efficitur tempus eros.</span>
                                <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                                <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                                <span class="s">in gravida eros malesuada.</span>
                                <span class="s">Quisque vel turpis sed elit</span>
                                <span class="s">finibus luctus et sed leo.</span>
                                <span class="s">Etiam porta metus purus,</span>
                                <span class="s">in vulputate est accumsan a.</span>
                                <span class="s">Aenean pulvinar aliquam nunc,</span>
                                <span class="s">vel pharetra diam sodales in.</span>
  <span class="na">responses</span><span class="pi">:</span>
    <span class="na">ForbiddenResponse</span><span class="pi">:</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Response when accessing protected endpoint with access but sufficient access</span>
      <span class="na">content</span><span class="pi">:</span>
        <span class="na">application/json</span><span class="pi">:</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
            <span class="na">properties</span><span class="pi">:</span>
              <span class="na">status</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                <span class="na">example</span><span class="pi">:</span> <span class="s">FAIL</span>
              <span class="na">data</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">name</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">FORBIDDEN"</span>
                  <span class="na">message</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Invalid</span><span class="nv"> </span><span class="s">access</span><span class="nv"> </span><span class="s">level"</span>
    <span class="na">UnauthorizedResponse</span><span class="pi">:</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Response when accessing protected endpoint without access</span>
      <span class="na">content</span><span class="pi">:</span>
        <span class="na">application/json</span><span class="pi">:</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
            <span class="na">properties</span><span class="pi">:</span>
              <span class="na">status</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                <span class="na">example</span><span class="pi">:</span> <span class="s">FAIL</span>
              <span class="na">data</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">name</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">UNAUTHORIZED"</span>
                  <span class="na">message</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Access</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">not</span><span class="nv"> </span><span class="s">granted"</span>
    <span class="na">PostResponse</span><span class="pi">:</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Response when mutating and get individual Post.</span>
      <span class="na">content</span><span class="pi">:</span>
        <span class="na">application/json</span><span class="pi">:</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
            <span class="na">properties</span><span class="pi">:</span>
              <span class="na">status</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                <span class="na">example</span><span class="pi">:</span> <span class="s">OK</span>
              <span class="na">data</span><span class="pi">:</span>
                <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/schemas/Post"</span>
  <span class="na">schemas</span><span class="pi">:</span>
    <span class="na">Post</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
      <span class="na">properties</span><span class="pi">:</span>
        <span class="na">id</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bdaf6814-2e99-40d5-9c15-e0238a90c886"</span>
        <span class="na">title</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
        <span class="na">body</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                <span class="s">Lorem ipsum dolor sit amet,</span>
                <span class="s">consectetur adipiscing elit.</span>
                <span class="s">Nullam quis tristique dolor.</span>
                <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                <span class="s">dictum nulla quis, vehicula urna.</span>
                <span class="s">Suspendisse dictum neque sapien,</span>
                <span class="s">mollis semper quam tincidunt sit amet.</span>
                <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                <span class="s">nisi libero ullamcorper mi,</span>
                <span class="s">id consectetur enim arcu eget turpis.</span>
                <span class="s">Fusce urna diam, elementum a diam non,</span>
                <span class="s">efficitur tempus eros.</span>
                <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                <span class="s">in gravida eros malesuada.</span>
                <span class="s">Quisque vel turpis sed elit</span>
                <span class="s">finibus luctus et sed leo.</span>
                <span class="s">Etiam porta metus purus,</span>
                <span class="s">in vulputate est accumsan a.</span>
                <span class="s">Aenean pulvinar aliquam nunc,</span>
                <span class="s">vel pharetra diam sodales in.</span>
        <span class="na">authorId</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">196508c4-495f-4d2e-898b-776fb3c1e8b4"</span>
        <span class="na">authorName</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Ted</span><span class="nv"> </span><span class="s">Kaczynski"</span>
        <span class="na">authorAvatar</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://placekitten.com/200/200"</span>
        <span class="na">createdAt</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
        <span class="na">updatedAt</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
</code></pre></div></div>

<h3 id="the-security-schemes-object">The Security Schemes Object</h3>

<p><em>Security Schemes Object</em> digunakan untuk mendefinisikan sebuah security yang nantinya akan digunakan di dalam operasi. Untuk detail terkait ini dapat dilihat pada tautan berikut:</p>

<p><a href="https://swagger.io/docs/specification/authentication/">https://swagger.io/docs/specification/authentication/</a></p>

<p>Di dalam bagian ini, kita akan membuat sebuah <code class="language-plaintext highlighter-rouge">securitySchemes</code> yang memiliki <code class="language-plaintext highlighter-rouge">Bearer Auth</code> di dalamnya.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span>
    <span class="na">post</span><span class="pi">:</span>
      <span class="na">security</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">BearerAuth</span><span class="pi">:</span> <span class="pi">[]</span>
      <span class="na">requestBody</span><span class="pi">:</span>
        <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/requestBodies/PostRequest"</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">201"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/PostResponse"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/UnauthorizedResponse"</span>
  <span class="s">/posts/{id}</span><span class="err">:</span>
    <span class="na">put</span><span class="pi">:</span>
      <span class="na">parameters</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">in</span><span class="pi">:</span> <span class="s">path</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">id</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">The id of the Post</span>
          <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">number</span>
            <span class="na">example</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">security</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">BearerAuth</span><span class="pi">:</span> <span class="pi">[]</span>
      <span class="na">requestBody</span><span class="pi">:</span>
        <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/requestBodies/PostRequest"</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/PostResponse"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/UnauthorizedResponse"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/ForbiddenResponse"</span>
<span class="na">components</span><span class="pi">:</span>
  <span class="na">requestBodies</span><span class="pi">:</span>
    <span class="na">PostRequest</span><span class="pi">:</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s">Payload for making a Post</span>
        <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
                <span class="na">schema</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                        <span class="na">title</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
                        <span class="na">body</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                                <span class="s">Lorem ipsum dolor sit amet,</span>
                                <span class="s">consectetur adipiscing elit.</span>
                                <span class="s">Nullam quis tristique dolor.</span>
                                <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                                <span class="s">dictum nulla quis, vehicula urna.</span>
                                <span class="s">Suspendisse dictum neque sapien,</span>
                                <span class="s">mollis semper quam tincidunt sit amet.</span>
                                <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                                <span class="s">nisi libero ullamcorper mi,</span>
                                <span class="s">id consectetur enim arcu eget turpis.</span>
                                <span class="s">Fusce urna diam, elementum a diam non,</span>
                                <span class="s">efficitur tempus eros.</span>
                                <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                                <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                                <span class="s">in gravida eros malesuada.</span>
                                <span class="s">Quisque vel turpis sed elit</span>
                                <span class="s">finibus luctus et sed leo.</span>
                                <span class="s">Etiam porta metus purus,</span>
                                <span class="s">in vulputate est accumsan a.</span>
                                <span class="s">Aenean pulvinar aliquam nunc,</span>
                                <span class="s">vel pharetra diam sodales in.</span>
  <span class="na">responses</span><span class="pi">:</span>
    <span class="na">ForbiddenResponse</span><span class="pi">:</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Response when accessing protected endpoint with access but sufficient access</span>
      <span class="na">content</span><span class="pi">:</span>
        <span class="na">application/json</span><span class="pi">:</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
            <span class="na">properties</span><span class="pi">:</span>
              <span class="na">status</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                <span class="na">example</span><span class="pi">:</span> <span class="s">FAIL</span>
              <span class="na">data</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">name</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">FORBIDDEN"</span>
                  <span class="na">message</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Invalid</span><span class="nv"> </span><span class="s">access</span><span class="nv"> </span><span class="s">level"</span>
    <span class="na">UnauthorizedResponse</span><span class="pi">:</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Response when accessing protected endpoint without access</span>
      <span class="na">content</span><span class="pi">:</span>
        <span class="na">application/json</span><span class="pi">:</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
            <span class="na">properties</span><span class="pi">:</span>
              <span class="na">status</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                <span class="na">example</span><span class="pi">:</span> <span class="s">FAIL</span>
              <span class="na">data</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">name</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">UNAUTHORIZED"</span>
                  <span class="na">message</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Access</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">not</span><span class="nv"> </span><span class="s">granted"</span>
    <span class="na">PostResponse</span><span class="pi">:</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Response when mutating and get individual Post.</span>
      <span class="na">content</span><span class="pi">:</span>
        <span class="na">application/json</span><span class="pi">:</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
            <span class="na">properties</span><span class="pi">:</span>
              <span class="na">status</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                <span class="na">example</span><span class="pi">:</span> <span class="s">OK</span>
              <span class="na">data</span><span class="pi">:</span>
                <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/schemas/Post"</span>
  <span class="na">securitySchemes</span><span class="pi">:</span>
    <span class="na">BearerAuth</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">http</span>
      <span class="na">scheme</span><span class="pi">:</span> <span class="s">bearer</span>
  <span class="na">schemas</span><span class="pi">:</span>
    <span class="na">Post</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
      <span class="na">properties</span><span class="pi">:</span>
        <span class="na">id</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bdaf6814-2e99-40d5-9c15-e0238a90c886"</span>
        <span class="na">title</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
        <span class="na">body</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                <span class="s">Lorem ipsum dolor sit amet,</span>
                <span class="s">consectetur adipiscing elit.</span>
                <span class="s">Nullam quis tristique dolor.</span>
                <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                <span class="s">dictum nulla quis, vehicula urna.</span>
                <span class="s">Suspendisse dictum neque sapien,</span>
                <span class="s">mollis semper quam tincidunt sit amet.</span>
                <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                <span class="s">nisi libero ullamcorper mi,</span>
                <span class="s">id consectetur enim arcu eget turpis.</span>
                <span class="s">Fusce urna diam, elementum a diam non,</span>
                <span class="s">efficitur tempus eros.</span>
                <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                <span class="s">in gravida eros malesuada.</span>
                <span class="s">Quisque vel turpis sed elit</span>
                <span class="s">finibus luctus et sed leo.</span>
                <span class="s">Etiam porta metus purus,</span>
                <span class="s">in vulputate est accumsan a.</span>
                <span class="s">Aenean pulvinar aliquam nunc,</span>
                <span class="s">vel pharetra diam sodales in.</span>
        <span class="na">authorId</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">196508c4-495f-4d2e-898b-776fb3c1e8b4"</span>
        <span class="na">authorName</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Ted</span><span class="nv"> </span><span class="s">Kaczynski"</span>
        <span class="na">authorAvatar</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://placekitten.com/200/200"</span>
        <span class="na">createdAt</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
        <span class="na">updatedAt</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
</code></pre></div></div>

<p>Ketika kita memasang <code class="language-plaintext highlighter-rouge">security</code> di dalam sebuah <em>operation</em>, maka operasi tersebut akan membutuhkan sebuah <em>access</em> yang memadai, seperti <em>JWT</em> atau apapun yang digunakan oleh API untuk mengautentikasi sebuah <em>request</em>.</p>

<h2 id="api-servers">API Servers</h2>

<p>Di dalam dokumentasi Open API, kita dapat mendefinisikan apa saja sih server yang menjalankan API tersebut. Untuk mendefinisikannya, kita dapat menggunakan atribut bernama <code class="language-plaintext highlighter-rouge">servers</code>, di dalam <em>Open API object</em>.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">servers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">description</span><span class="pi">:</span> <span class="s">Mock Server</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://mock.medium.com</span>
  <span class="pi">-</span> <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Staging</span><span class="nv"> </span><span class="s">Server"</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://staging.medium.com</span>
  <span class="pi">-</span> <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Beta</span><span class="nv"> </span><span class="s">Server"</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://beta.medium.com</span>
  <span class="pi">-</span> <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Production</span><span class="nv"> </span><span class="s">Server"</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://medium.com</span>
<span class="na">paths</span><span class="pi">:</span> <span class="pi">{}</span>
</code></pre></div></div>

<h1 id="menampilkan-open-api-documentation">Menampilkan Open API Documentation</h1>

<p>Berikut ini adalah sebuah Open API Specification yang akan kita gunakan untuk menampilkan sebuah UI dari Open API Specification kita.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">openapi</span><span class="pi">:</span> <span class="s">3.0.0</span>
<span class="na">info</span><span class="pi">:</span>
  <span class="na">title</span><span class="pi">:</span> <span class="s">Medium Blogging API</span>
  <span class="na">version</span><span class="pi">:</span> <span class="s">0.0.1</span>
<span class="na">servers</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">description</span><span class="pi">:</span> <span class="s">Mock Server</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://mock.medium.com</span>
  <span class="pi">-</span> <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Staging</span><span class="nv"> </span><span class="s">Server"</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://staging.medium.com</span>
  <span class="pi">-</span> <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Beta</span><span class="nv"> </span><span class="s">Server"</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://beta.medium.com</span>
  <span class="pi">-</span> <span class="na">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Production</span><span class="nv"> </span><span class="s">Server"</span>
    <span class="na">url</span><span class="pi">:</span> <span class="s">https://medium.com</span>
<span class="na">tags</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Post</span>
    <span class="na">description</span><span class="pi">:</span> <span class="s">Contain every operation about Post Resource</span>
<span class="na">paths</span><span class="pi">:</span>
  <span class="na">/posts</span><span class="pi">:</span>
    <span class="na">post</span><span class="pi">:</span>
      <span class="na">operationId</span><span class="pi">:</span> <span class="s">createPost</span>
      <span class="na">tags</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">Post</span>
      <span class="na">requestBody</span><span class="pi">:</span>
        <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/requestBodies/PostRequest"</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">201"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/PostResponse"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/UnauthorizedResponse"</span>
  <span class="s">/posts/{id}</span><span class="err">:</span>
    <span class="na">put</span><span class="pi">:</span>
      <span class="na">operationId</span><span class="pi">:</span> <span class="s">updatePost</span>
      <span class="na">tags</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">Post</span>
      <span class="na">parameters</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">in</span><span class="pi">:</span> <span class="s">path</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">id</span>
          <span class="na">description</span><span class="pi">:</span> <span class="s">The id of the Post</span>
          <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">number</span>
            <span class="na">example</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">requestBody</span><span class="pi">:</span>
        <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/requestBodies/PostRequest"</span>
      <span class="na">responses</span><span class="pi">:</span>
        <span class="s2">"</span><span class="s">200"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/PostResponse"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">401"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/UnauthorizedResponse"</span>
      <span class="err">  </span><span class="s2">"</span><span class="s">403"</span><span class="err">:</span>
          <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/responses/ForbiddenResponse"</span>
<span class="na">components</span><span class="pi">:</span>
  <span class="na">requestBodies</span><span class="pi">:</span>
    <span class="na">PostRequest</span><span class="pi">:</span>
        <span class="na">description</span><span class="pi">:</span> <span class="s">Payload for making a Post</span>
        <span class="na">required</span><span class="pi">:</span> <span class="no">true</span>
        <span class="na">content</span><span class="pi">:</span>
            <span class="na">application/json</span><span class="pi">:</span>
                <span class="na">schema</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                    <span class="na">properties</span><span class="pi">:</span>
                        <span class="na">title</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
                        <span class="na">body</span><span class="pi">:</span>
                            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                            <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                                <span class="s">Lorem ipsum dolor sit amet,</span>
                                <span class="s">consectetur adipiscing elit.</span>
                                <span class="s">Nullam quis tristique dolor.</span>
                                <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                                <span class="s">dictum nulla quis, vehicula urna.</span>
                                <span class="s">Suspendisse dictum neque sapien,</span>
                                <span class="s">mollis semper quam tincidunt sit amet.</span>
                                <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                                <span class="s">nisi libero ullamcorper mi,</span>
                                <span class="s">id consectetur enim arcu eget turpis.</span>
                                <span class="s">Fusce urna diam, elementum a diam non,</span>
                                <span class="s">efficitur tempus eros.</span>
                                <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                                <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                                <span class="s">in gravida eros malesuada.</span>
                                <span class="s">Quisque vel turpis sed elit</span>
                                <span class="s">finibus luctus et sed leo.</span>
                                <span class="s">Etiam porta metus purus,</span>
                                <span class="s">in vulputate est accumsan a.</span>
                                <span class="s">Aenean pulvinar aliquam nunc,</span>
                                <span class="s">vel pharetra diam sodales in.</span>
  <span class="na">responses</span><span class="pi">:</span>
    <span class="na">ForbiddenResponse</span><span class="pi">:</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Response when accessing protected endpoint with access but sufficient access</span>
      <span class="na">content</span><span class="pi">:</span>
        <span class="na">application/json</span><span class="pi">:</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
            <span class="na">properties</span><span class="pi">:</span>
              <span class="na">status</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                <span class="na">example</span><span class="pi">:</span> <span class="s">FAIL</span>
              <span class="na">data</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">name</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">FORBIDDEN"</span>
                  <span class="na">message</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Invalid</span><span class="nv"> </span><span class="s">access</span><span class="nv"> </span><span class="s">level"</span>
    <span class="na">UnauthorizedResponse</span><span class="pi">:</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Response when accessing protected endpoint without access</span>
      <span class="na">content</span><span class="pi">:</span>
        <span class="na">application/json</span><span class="pi">:</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
            <span class="na">properties</span><span class="pi">:</span>
              <span class="na">status</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                <span class="na">example</span><span class="pi">:</span> <span class="s">FAIL</span>
              <span class="na">data</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
                <span class="na">properties</span><span class="pi">:</span>
                  <span class="na">name</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">UNAUTHORIZED"</span>
                  <span class="na">message</span><span class="pi">:</span>
                    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                    <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Access</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">not</span><span class="nv"> </span><span class="s">granted"</span>
    <span class="na">PostResponse</span><span class="pi">:</span>
      <span class="na">description</span><span class="pi">:</span> <span class="s">Response when mutating and get individual Post.</span>
      <span class="na">content</span><span class="pi">:</span>
        <span class="na">application/json</span><span class="pi">:</span>
          <span class="na">schema</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
            <span class="na">properties</span><span class="pi">:</span>
              <span class="na">status</span><span class="pi">:</span>
                <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
                <span class="na">example</span><span class="pi">:</span> <span class="s">OK</span>
              <span class="na">data</span><span class="pi">:</span>
                <span class="na">$ref</span><span class="pi">:</span> <span class="s2">"</span><span class="s">#/components/schemas/Post"</span>
  <span class="na">schemas</span><span class="pi">:</span>
    <span class="na">Post</span><span class="pi">:</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">object</span>
      <span class="na">properties</span><span class="pi">:</span>
        <span class="na">id</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">bdaf6814-2e99-40d5-9c15-e0238a90c886"</span>
        <span class="na">title</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s">Industrial Society and It's Future</span>
        <span class="na">body</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="pi">|</span>
                <span class="s">Lorem ipsum dolor sit amet,</span>
                <span class="s">consectetur adipiscing elit.</span>
                <span class="s">Nullam quis tristique dolor.</span>
                <span class="s">Donec at vehicula urna. Fusce nec lacus placerat,</span>
                <span class="s">dictum nulla quis, vehicula urna.</span>
                <span class="s">Suspendisse dictum neque sapien,</span>
                <span class="s">mollis semper quam tincidunt sit amet.</span>
                <span class="s">Fusce ullamcorper, nisi id pharetra egestas,</span>
                <span class="s">nisi libero ullamcorper mi,</span>
                <span class="s">id consectetur enim arcu eget turpis.</span>
                <span class="s">Fusce urna diam, elementum a diam non,</span>
                <span class="s">efficitur tempus eros.</span>
                <span class="s">Nam tincidunt orci vitae enim vulputate vehicula.</span>
                <span class="s">Nullam commodo magna sed nulla efficitur,</span>
                <span class="s">in gravida eros malesuada.</span>
                <span class="s">Quisque vel turpis sed elit</span>
                <span class="s">finibus luctus et sed leo.</span>
                <span class="s">Etiam porta metus purus,</span>
                <span class="s">in vulputate est accumsan a.</span>
                <span class="s">Aenean pulvinar aliquam nunc,</span>
                <span class="s">vel pharetra diam sodales in.</span>
        <span class="na">authorId</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">196508c4-495f-4d2e-898b-776fb3c1e8b4"</span>
        <span class="na">authorName</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Ted</span><span class="nv"> </span><span class="s">Kaczynski"</span>
        <span class="na">authorAvatar</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://placekitten.com/200/200"</span>
        <span class="na">createdAt</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
        <span class="na">updatedAt</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
            <span class="na">example</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2021-07-30</span><span class="nv"> </span><span class="s">17:00:00</span><span class="nv"> </span><span class="s">+0700"</span>
</code></pre></div></div>

<h2 id="swagger-ui">Swagger UI</h2>

<p><img src="/assets/images/2021/12/01/SWAGGER.png" alt="img" /></p>

<p>Untuk menampilkan dokumentasi Open API ini sangat tergantung terhadap bahasa yang digunakan dari sebuah server. Untuk express, kita dapat menggunakan library <a href="https://www.npmjs.com/package/swagger-ui-express">swagger-ui-express</a>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">express</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">swaggerUi</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">swagger-ui-express</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">swaggerDocument</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./swagger.json</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api-docs</span><span class="dl">'</span><span class="p">,</span> <span class="nx">swaggerUi</span><span class="p">.</span><span class="nx">serve</span><span class="p">,</span> <span class="nx">swaggerUi</span><span class="p">.</span><span class="nx">setup</span><span class="p">(</span><span class="nx">swaggerDocument</span><span class="p">));</span>
</code></pre></div></div>

<p>Kode diatas membutuhkan file bernama <code class="language-plaintext highlighter-rouge">swagger.json</code>, ini adalah nama dari file Open API Documentation yang sudah kalian buat, namun dalam format JSON. Kalau kalian ingin menggunakan versi YAML, maka ada beberapa library yang perlu kita instal agar kita dapat menggunakan file <code class="language-plaintext highlighter-rouge">YAML</code> kita.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">express</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">YAML</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">yamljs</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">swaggerUi</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">swagger-ui-express</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">swaggerDocument</span> <span class="o">=</span> <span class="nx">YAML</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="dl">'</span><span class="s1">./openapi.yaml</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">port</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">;</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api-docs</span><span class="dl">'</span><span class="p">,</span> <span class="nx">swaggerUi</span><span class="p">.</span><span class="nx">serve</span><span class="p">,</span> <span class="nx">swaggerUi</span><span class="p">.</span><span class="nx">setup</span><span class="p">(</span><span class="nx">swaggerDocument</span><span class="p">));</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Example app listening on port </span><span class="p">${</span><span class="nx">port</span><span class="p">}</span><span class="s2">!`</span><span class="p">));</span>
</code></pre></div></div>

<p>Maka dokumentasi API-mu akan dapat diakses melalui server express pada <em>path</em> <code class="language-plaintext highlighter-rouge">/api-docs</code>.</p>

<h2 id="redoc">ReDoc</h2>

<p><img src="/assets/images/2021/12/01/REDOC.png" alt="img" /></p>

<p>Untuk menggunakan ReDoc di dalam express, kita hanya perlu menginstal library bernama <a href="https://www.npmjs.com/package/redoc-express">redoc-express</a>. Dan cara menggunakannya cukup sederhana.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">express</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">redoc</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">redoc-express</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">YAML</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">yamljs</span><span class="dl">'</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">openAPIDocument</span> <span class="o">=</span> <span class="nx">YAML</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="dl">'</span><span class="s1">./openapi.yaml</span><span class="dl">'</span><span class="p">)</span>

<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">port</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">;</span>

<span class="c1">// serve your swagger.json file</span>
<span class="nx">app</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/docs/swagger.json</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mi">200</span><span class="p">).</span><span class="nx">json</span><span class="p">(</span><span class="nx">openAPIDocument</span><span class="p">)</span>
<span class="p">});</span>

<span class="c1">// define title and specUrl location</span>
<span class="c1">// serve redoc</span>
<span class="nx">app</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span>
  <span class="dl">'</span><span class="s1">/docs</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">redoc</span><span class="p">({</span>
    <span class="na">title</span><span class="p">:</span> <span class="dl">'</span><span class="s1">API Docs</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">specUrl</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/docs/swagger.json</span><span class="dl">'</span>
  <span class="p">})</span>
<span class="p">);</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Example app listening on port </span><span class="p">${</span><span class="nx">port</span><span class="p">}</span><span class="s2">!`</span><span class="p">));</span>
</code></pre></div></div>

<p>Ketika kalian membuka halaman <code class="language-plaintext highlighter-rouge">/docs</code>, maka kalian akan melihat dokumentasi API kalian dengan UI dari Redoc.</p>

<h1 id="membuat-mock-api-untuk-early-development">Membuat Mock API untuk Early Development</h1>

<p>Untuk membuat Mock API sangatlah mudah, kalian hanya perlu:</p>

<ol>
  <li>Buka <a href="https://editor.swagger.io/">editor.swagger.io</a></li>
  <li>Paste Open API Documentationmu</li>
  <li>Generate Server</li>
  <li>Pilih bahasa <code class="language-plaintext highlighter-rouge">nodejs-server</code></li>
  <li>Download</li>
  <li>Extract</li>
  <li><code class="language-plaintext highlighter-rouge">npm start</code></li>
</ol>

<p>Server yang kamu jalankan akan dapat memenuhi kebutuhkan kontrak dari API yang sudah kamu definisikan, hal ini sangat berguna bagi developer frontend, karena mereka sudah bisa menggunakan Mock API kita untuk mengimplementasikan integrasi ke API.</p>

<h1 id="kesimpulan">Kesimpulan</h1>

<p>Open API Documentation sangat berguna dalam proses development, karena dengan adanya Open API documentation, kita dapat membuat Mock API secara otomatis, yang dapat menggantikan kebutuhan adanya API di dalam proses pengembangan website.</p>

<p>Dan juga, Open API documentation sangat berguna untuk mendokumentasikan setiap operasi yang dapat kita lakukan dengan menggunakan API yang kita dokumentasikan.</p>

<h1 id="referensi">Referensi</h1>

<ul>
  <li><a href="https://oai.github.io/Documentation/">Open API Initiative</a></li>
  <li><a href="https://swagger.io/docs/specification/about/">Swagger</a></li>
</ul>



    <footer>
      <h6>Fikri Rahmat Nurhidayat • 2021</h6>
      <h6>Powered by Jekyll</h6>
    </footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
  </body>
</html>
